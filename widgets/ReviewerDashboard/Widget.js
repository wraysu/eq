// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://@sbaseurl@/jsapi/jsapi/esri/copyright.txt and http://www.arcgis.com/apps/webappbuilder/copyright.txt for details.
//>>built
require({cache:{"esri/tasks/datareviewer/DashboardTask":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/Deferred dojo/has ./_DRSBaseTask ./DashboardResult ./ReviewerFilters ../../kernel ../../request".split(" "),function(m,n,e,h,l,b,f,c,a,d){m=m(b,{declaredClass:"esri.tasks.datareviewer.DashboardTask",constructor:function(a){this.onGetDashboardResultsComplete=e.hitch(this,this.onGetDashboardResultsComplete);this.onGetDashboardFieldNamesComplete=e.hitch(this,this.onGetDashboardFieldNamesComplete)},
getDashboardResults:function(a,b){var k=this._successHandler,g=this._errorHandler,p=this._appendQueryParams,x=new h;null===b||void 0===b?(a=this._url+"/Dashboard/reviewerResultsBy/"+a,b={f:"json"}):(a=this._url+"/Dashboard/reviewerResultsBy/"+a+"/filter",b={f:"json",filtersArray:b.toJSON()});a=p(a);d({callbackParamName:"callback",url:a,content:b}).then(e.hitch(this,function(a,b){if(void 0!==a.error)b=Error(),b.message=a.error.message,b.code=a.error.code,g(b,x);else try{if(void 0===a.dashboardResults)g(null,
x);else{var d=new f;n.forEach(a.dashboardResults,function(g,a){d.fieldValues.push(g.fieldValue);d.counts.push(g.count)});d.fieldName=a.fieldName;var p=new c;p.createFromJsonObject(a);d.filters=p;k({dashboardResult:d},"onGetDashboardResultsComplete",x)}}catch(E){g(E,x)}}),function(a,b){g(a,x)});return x},getDashboardFieldNames:function(){var a=this._successHandler,b=this._errorHandler,c=this._appendQueryParams,g=this._url+"/Dashboard",g=c(g),p=new h;d({callbackParamName:"callback",url:g,content:{f:"json"}}).then(e.hitch(this,
function(g,d){if(void 0!==g.error)d=Error(),d.message=g.error.message,d.code=g.error.code,b(d,p);else try{var c=[];n.forEach(g.reviewerResultsBy,function(g,a){c.push(g.name)});a({fieldNames:c},"onGetDashboardFieldNamesComplete",p)}catch(S){b(S,p)}}),function(g,a){b(g,p)});return p},onGetDashboardResultsComplete:function(a){},onGetDashboardFieldNamesComplete:function(a){}});l("extend-esri")&&e.setObject("tasks.datareviewer.DashboardTask",m,a);return m})},"esri/tasks/datareviewer/_DRSBaseTask":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/Deferred dojo/has ../../request ../../urlUtils ../../kernel ../Task ./ReviewerSession".split(" "),
function(m,n,e,h,l,b,f,c,a,d){m=m(a,{declaredClass:"esri.tasks.datareviewer.DRSBaseTask",_url:null,_queryParams:null,_reviewerMapServerUrl:null,constructor:function(a){"/"==a[a.length-1]&&(a=a.slice(0,-1));a=f.urlToObject(a);this._url=a.path;this._queryParams=a.query;a=this._url.toLowerCase().lastIndexOf("/exts/");0<a&&(this._reviewerMapServerUrl=this._url.substring(0,a));this._successHandler=n.hitch(this,this._successHandler);this._errorHandler=n.hitch(this,this._errorHandler);this._appendQueryParams=
n.hitch(this,this._appendQueryParams);this.onError=n.hitch(this,this.onError)},_appendQueryParams:function(a){if(this._queryParams)for(var b in this._queryParams)a=f.urlToObject(a).query?a+("\x26"+b+"\x3d"+this._queryParams[b]):a+("?"+b+"\x3d"+this._queryParams[b]);return a},_successHandler:function(a,b,d){b&&this[b].apply(this,[a]);d&&d.resolve(a)},_errorHandler:function(a,b){null===a&&(a=Error("Unexpected response received from server"),a.code=500);this.onError(a);b&&b.reject(a)},getReviewerMapServerUrl:function(){var a=
null;if(a=this._reviewerMapServerUrl){if(this._queryParams)for(var b in this._queryParams)a=f.urlToObject(a).query?a+("\x26"+b+"\x3d"+this._queryParams[b]):a+("?"+b+"\x3d"+this._queryParams[b]);return a}return null},getLifecycleStatusStrings:function(){var a=this._successHandler,d=this._errorHandler,c=this._appendQueryParams,g=this._url+"/Utilities/getLifecycleStatusStrings",g=c(g),p=new h;b({callbackParamName:"callback",url:g,content:{f:"json"}}).then(n.hitch(this,function(g,b){if(void 0!==g.error)b=
Error(),b.message=g.error.message,b.code=g.error.code,d(b,p);else try{var c=g.lifecycleStatusString;if(void 0===c)d(null,p);else{var f=[];e.forEach(c,function(a,g){f[a.descriptionCode]=a.descriptionString});a({lifecycleStatusStrings:f},"onGetLifecycleStatusStringsComplete",p)}}catch(A){d(A,p)}}),function(a,g){d(a,p)});return p},createReviewerSession:function(a,c){var f=this._successHandler,g=this._errorHandler,p=this._appendQueryParams,x=this._url+"/Utilities/createReviewerSession",x=p(x),k=new h;
b({callbackParamName:"callback",url:x,content:{sessionName:a,sessionProperties:c.toJsonSessionOptions(),f:"json"}}).then(n.hitch(this,function(a,b){if(void 0!==a.error)b=Error(),b.message=a.error.message,b.code=a.error.code,g(b,k);else try{if(void 0===a.sessionAttributes)g(null,k);else{var c=a.sessionAttributes,p=new d(c.sessionId,c.sessionName,c.userName,c.versionName);f({reviewerSession:p},"onCreateReviewerSessionComplete",k)}}catch(U){g(U,k)}}),function(a,b){g(a,k)});return k},getReviewerSessions:function(){var a=
this._successHandler,c=this._errorHandler,f=this._appendQueryParams,g=this._url+"/Utilities/getReviewerSessions",g=f(g),p=new h;b({callbackParamName:"callback",url:g,content:{f:"json"}}).then(n.hitch(this,function(g,b){if(void 0!==g.error)b=Error(),b.message=g.error.message,b.code=g.error.code,c(b,p);else try{var f=g.sessionAttributes;if(void 0===f)c(null,p);else{var x=[];e.forEach(f,function(a,g){x[g]=new d(a.sessionId,a.sessionName,a.userName,a.versionName)});a({reviewerSessions:x},"onGetReviewerSessionsComplete",
p)}}catch(A){c(A,p)}}),function(a,g){c(a,p)});return p},getCustomFieldNames:function(){var a=this._successHandler,c=this._errorHandler,d="BATCHJOBCHECKGROUP CHECKTITLE FEATUREOBJECTCLASS LIFECYCLEPHASE LIFECYCLESTATUS SESSIONID SEVERITY SUBTYPE".split(" "),g=this._appendQueryParams,p=this._url+"/Dashboard",p=g(p),f=new h;b({callbackParamName:"callback",url:p,content:{f:"json"}}).then(n.hitch(this,function(g,b){if(void 0!==g.error)b=Error(),b.message=g.error.message,b.code=g.error.code,c(b,f);else try{var p=
[];void 0===g.reviewerResultsBy&&c(null,f);e.forEach(g.reviewerResultsBy,function(a,g){-1===d.indexOf(a.name)&&p.push(a.name)});a({customFieldNames:p},"onGetCustomFieldNamesComplete",f)}catch(A){c(A,f)}}),function(a,g){c(a,f)});return f},onGetLifecycleStatusStringsComplete:function(a){},onGetReviewerSessionsComplete:function(a){},onCreateReviewerSessionComplete:function(a){},onGetCustomFieldNamesComplete:function(a){},onError:function(a){}});l("extend-esri")&&n.setObject("tasks.datareviewer.DRSBaseTask",
m,c);return m})},"esri/tasks/datareviewer/ReviewerSession":function(){define(["dojo/_base/declare","dojo/has","dojo/_base/lang","../../kernel"],function(m,n,e,h){m=m(null,{declaredClass:"esri.tasks.datareviewer.ReviewerSession",sessionId:NaN,sessionName:"",userName:"",versionName:"",constructor:function(e,b,f,c){this.sessionId=e;this.sessionName=b;this.userName=f;void 0!==c&&(this.versionName=c)},toString:function(){return isNaN(this.sessionId)?null:"Session "+this.sessionId+" : "+this.sessionName}});
n("extend-esri")&&e.setObject("tasks.datareviewer.ReviewerSession",m,h);return m})},"esri/tasks/datareviewer/DashboardResult":function(){define(["dojo/_base/declare","dojo/has","dojo/_base/lang","../../kernel"],function(m,n,e,h){m=m(null,{declaredClass:"esri.tasks.datareviewer.DashboardResult",fieldName:null,fieldValues:null,counts:null,filters:null,constructor:function(){this.fieldName="";this.fieldValues=[];this.counts=[]},getCount:function(e){if(0<this.fieldValues.length&&0<this.counts.length&&
this.fieldValues.length===this.counts.length)for(var b=0;b<this.fieldValues.length;b++)if(this.fieldValues[b]===e)return this.counts[b];return 0}});n("extend-esri")&&e.setObject("tasks.datareviewer.DashboardResult",m,h);return m})},"esri/tasks/datareviewer/ReviewerFilters":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/json ../../geometry/Polygon dojo/has ../../kernel".split(" "),function(m,n,e,h,l,b,f){m=m(null,{declaredClass:"esri.tasks.datareviewer.ReviewerFilters",
constructor:function(){this.singleAttributeFilters=[];this.listAttributeFilters=[];this.rangeAttributeFilters=[];this.spatialFilters=[]},addAttributeFilter:function(b,a){var c={};c.fieldName=b;e.isArray(a)?1<a.length?(c.fieldValue=a,this.listAttributeFilters.push(c)):(c.fieldValue=a[0],this.singleAttributeFilters.push(c)):(c.fieldValue=a,this.singleAttributeFilters.push(c))},addRangeFilter:function(b,a,d){var c={},f={};f.minFieldValue=a;f.maxFieldValue=d;c.fieldName=b;c.fieldValue=f;this.rangeAttributeFilters.push(c)},
addSpatialFilter:function(b){var a={};b&&"rings"in b&&"spatialReference"in b&&(a.rings=b.rings,a.spatialReference=b.spatialReference,this.spatialFilters.push(a))},toJSON:function(){var b=[];null!==this.singleAttributeFilters&&0<this.singleAttributeFilters.length&&b.push({singleAttributeFilter:this.singleAttributeFilters});null!==this.listAttributeFilters&&0<this.listAttributeFilters.length&&b.push({listAttributeFilter:this.listAttributeFilters});null!==this.rangeAttributeFilters&&0<this.rangeAttributeFilters.length&&
b.push({rangeAttributeFilter:this.rangeAttributeFilters});null!==this.spatialFilters&&0<this.spatialFilters.length&&b.push({spatialFilter:this.spatialFilters});return 0===b.length?"":h.stringify({filtersArray:b})},getCount:function(){var b=0;null!==this.singleAttributeFilters&&0<this.singleAttributeFilters.length&&(b+=this.singleAttributeFilters.length);null!==this.listAttributeFilters&&0<this.listAttributeFilters.length&&(b+=this.listAttributeFilters.length);null!==this.rangeAttributeFilters&&0<
this.rangeAttributeFilters.length&&(b+=this.rangeAttributeFilters.length);null!==this.spatialFilters&&0<this.spatialFilters.length&&(b+=this.spatialFilters.length);return b},addReviewerFilters:function(b){if(!b)return 0;var a=0;n.forEach(b.singleAttributeFilters,function(b){this.addAttributeFilter(b.fieldName,b.fieldValue);a++});n.forEach(b.listAttributeFilters,function(b){this.addAttributeFilter(b.fieldName,b.fieldValue);a++});n.forEach(b.rangeAttributeFilters,function(b){this.addRangeFilter(b.fieldName,
b.minValue,b.maxValue);a++});n.forEach(b.spatialFilters,function(b){this.addSpatialFilter(b);a++});return a},createFromJsonObject:function(b){b&&b.filters&&e.isArray(b.filters)&&n.forEach(b.filters,e.hitch(this,function(a){"spatialFilter"in a?n.forEach(a.spatialFilter,e.hitch(this,function(a){this.addSpatialFilter(new l(a))})):"singleAttributeFilter"in a?n.forEach(a.singleAttributeFilter,e.hitch(this,function(a){this.addAttributeFilter(a.fieldName,a.fieldValue)})):"listAttributeFilter"in a?n.forEach(a.listAttributeFilter,
e.hitch(this,function(a){this.addAttributeFilter(a.fieldName,a.fieldValue)})):"rangeAttributeFilter"in a&&n.forEach(a.rangeAttributeFilter,e.hitch(this,function(a){this.addRangeFilter(a.fieldName,a.minValue,a.maxValue)}))}))}});b("extend-esri")&&e.setObject("tasks.datareviewer.ReviewerFilters",m,f);return m})},"widgets/ReviewerDashboard/ReviewerMapHelper":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/_base/Color dojo/Deferred esri/symbols/SimpleMarkerSymbol esri/symbols/SimpleLineSymbol esri/symbols/SimpleFillSymbol esri/request esri/main esri/layers/LayerDrawingOptions esri/renderers/UniqueValueRenderer".split(" "),
function(m,n,e,h,l,b,f,c,a,d,k,u){return m(null,{_drsExtensionUrl:null,_queryParams:null,_reviewerMapServerUrl:null,pointSymbol:null,lineSymbol:null,polySymbol:null,_fieldQualifier:null,_colorMapCache:null,SEVERITY_COLORS:{1:"#D80202",2:"#DF370C",3:"#E76D16",4:"#E76D16",5:"#FFEC5A"},LIFECYCLEPHASE_COLORS:{2:"#C00000",4:"#FFFF00",6:"#92D050"},DEFAULT_COLOR:"#00C5FF",defaultColor:null,constructor:function(a,g,p,x,k){a=d.urlToObject(a);this._drsExtensionUrl=a.path;this._queryParams=a.query;a=this._drsExtensionUrl.toLowerCase().lastIndexOf("/exts/");
0<a&&(this._reviewerMapServerUrl=this._drsExtensionUrl.substring(0,a));this.defaultColor=null!==k?k:new h(this.DEFAULT_COLOR);this.pointSymbol=null!==g?g:new b(b.STYLE_CIRCLE,7,null,this.defaultColor);this.lineSymbol=null!==p?p:new f(f.STYLE_SOLID,this.defaultColor,5);this.polySymbol=null!==x?x:new c(c.STYLE_SOLID,null,this.defaultColor);this._colorMapCache={}},getLayerDrawingOptions:function(b,g,c){var d=new l;if(!b)return d;var p=this._reviewerMapServerUrl+"/0";null!==this._fieldQualifier?this._generateLayerDrawingOptions(b,
g,c,d):a({url:p,content:{f:"json"},callbackParamName:"callback"}).then(e.hitch(this,function(a){var p=new RegExp(/severity/i);n.forEach(a.fields,e.hitch(this,function(a){if(a.name.match(p))try{var f=a.name.split(p);this._fieldQualifier=1<f.length?f[0]:"";this._generateLayerDrawingOptions(b,g,c,d)}catch(U){this._errorHandler(U,d)}}))}),e.hitch(this,function(a){this._errorHandler(a,d)}));return d},_generateLayerDrawingOptions:function(a,b,c,d){var g,f=[];g=this._mapDashboardFieldNameToFullyQualifiedName(a.fieldName).toLowerCase();
f=a.fieldValues;b=this._updateColorMapAndCache(a.fieldName,f,b,c);a=this._createPolyRenderer(g,f,b);c=this._createLineRenderer(g,f,b);g=this._createPointRenderer(g,f,b);b={layerDrawingOptions:{layerDrawingOptionsArray:[this._createLayerDrawingOptions(0,g),this._createLayerDrawingOptions(1,c),this._createLayerDrawingOptions(2,a)],colorMap:b}};d.resolve(b)},_updateColorMapAndCache:function(a,b,c,d){if(null===c){if(0<=a.toLowerCase().indexOf("severity")||0<=a.toLowerCase().indexOf("lifecyclephase"))d=
!0;c=this._colorMapCache.hasOwnProperty(a)?this._colorMapCache[a]:this._createDefaultColorMap(a)}b=this._appendMissingValuesToColorMap(b,c,d);return this._colorMapCache[a]=b},_appendMissingValuesToColorMap:function(a,b,c){var g=0,d;for(d in b)b.hasOwnProperty(d)&&++g;for(g=0;g<a.length;g++)b.hasOwnProperty(a[g])||(b[a[g]]=c?this.defaultColor:new h(this.getColor(g)));return b},getColor:function(a){var b="#E8940C #98C000 #0CBDE8 #F2DA9A #E74327 #DECF3F #878786 #452B7F #9A8B76 #B2912F #9893da #139887".split(" ");
return 11>a?b[a]:"#"+Math.floor(16777215*Math.random()).toString(16)},_createLayerDrawingOptions:function(a,b){var g=new k;g.layerId=a;g.renderer=b;return g},_createDefaultColorMap:function(a){return 0<=a.toLowerCase().indexOf("severity")?this._getColorMap(this.SEVERITY_COLORS):0<=a.toLowerCase().indexOf("lifecyclephase")?this._getColorMap(this.LIFECYCLEPHASE_COLORS):{}},_getColorMap:function(a){var b={},c;for(c in a)b[c]=new h(a[c]);return b},_mapDashboardFieldNameToFullyQualifiedName:function(a){if(!a||
""===a)return"";"FEATUREOBJECTCLASS"===a.toUpperCase()&&(a="ORIGINTABLE");return null!==this._fieldQualifier&&0<this._fieldQualifier.length?this._fieldQualifier+a:a},_createPolyRenderer:function(a,b,d){for(var g=new u(this.polySymbol,a),p=0;p<b.length;p++){var k=b[p],e=new c;e.style=this.polySymbol.style;d.hasOwnProperty(k)?e.color=d[k]:e.color=this.defaultColor;if(null!==this.polySymbol.outline){var l=new f;l.color=e.color;l.style=this.polySymbol.outline.style;l.width=this.polySymbol.outline.width;
e.outline=l}else e.outline=new f(f.STYLE_SOLID,e.color,1);"\x3cNull\x3e"===k&&(g=new u(e,a));g.addValue(k,e)}return g},_createLineRenderer:function(a,b,c){for(var g=new u(this.lineSymbol,a),d=0;d<b.length;d++){var p=b[d],k=new f;c.hasOwnProperty(p)?k.color=c[p]:k.color=this.defaultColor;k.style=this.lineSymbol.style;k.width=this.lineSymbol.width;"\x3cNull\x3e"===p&&(g=new u(k,a));g.addValue(p,k)}return g},_createPointRenderer:function(a,g,c){for(var d=new u(this.pointSymbol,a),f=0;f<g.length;f++){var p=
g[f],k=new b;c.hasOwnProperty(p)?k.color=c[p]:k.color=this.defaultColor;k.outline=this.pointSymbol.outline;k.size=this.pointSymbol.size;k.style=this.pointSymbol.style;"\x3cNull\x3e"===p&&(d=new u(k,a));d.addValue(p,k)}return d},_errorHandler:function(a,b){null===a&&(a=Error("Unexpected response received from server"),a.code=500);b&&b.reject(a)}})})},"esri/tasks/datareviewer/ReviewerResultsTask":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/Deferred dojo/json dojo/has ./_DRSBaseTask ../../request ../FeatureSet ../../layers/FeatureEditResult ../../kernel".split(" "),
function(m,n,e,h,l,b,f,c,a,d,k){m=m(f,{declaredClass:"esri.tasks.datareviewer.ReviewerResultsTask",constructor:function(a){this.onGetResultsComplete=n.hitch(this,this.onGetResultsComplete);this.onWriteResultComplete=n.hitch(this,this.onWriteResultComplete);this.onWriteFeatureAsResultComplete=n.hitch(this,this.onWriteFeatureAsResultComplete);this.onGetLayerDefinitionComplete=n.hitch(this,this.onGetLayerDefinitionComplete);this.onGetBatchRunDetailsComplete=n.hitch(this,this.onGetBatchRunDetailsComplete)},
getResults:function(b,d){var g=this._successHandler,f=this._errorHandler,k=this._appendQueryParams,e=this._url+"/ReviewerResults/getResults",e=k(e),w=new h;b={queryParameters:b.toJSON(),f:"json"};null!==d&&void 0!==d&&(b.filtersArray=d.toJSON());c({callbackParamName:"callback",url:e,content:b}).then(n.hitch(this,function(b,c){if(void 0!==b.error)c=Error(),c.message=b.error.message,c.code=b.error.code,f(c,w);else try{if(void 0===b.features||void 0===b.fieldAliases||void 0===b.fields)f(null,w);else{var d=
new a(b);g({featureSet:d},"onGetResultsComplete",w)}}catch(U){f(U,w)}}),function(a,b){f(a,w)});return w},writeResult:function(a,b){var g=this._successHandler,d=this._errorHandler,f=this._appendQueryParams,k=this._url+"/ReviewerResults/writeResult",k=f(k),e=new h;c({callbackParamName:"callback",url:k,content:{reviewerAttributes:a.toJSON(),geometry:l.stringify(b.toJson()),f:"json"}}).then(n.hitch(this,function(a,b){b=Error();if(void 0!==a.error)b.message=a.error.message,b.code=a.error.code,d(b,e);else try{void 0!==
a.result&&"error"===a.result?(b.message=a.messages,b.code=a.result,d(b,e)):"success"===a.result?g({success:!0},"onWriteResultComplete",e):d(null,e)}catch(E){d(E,e)}}),function(a,b){d(a,e)});return e},writeFeatureAsResult:function(a,b){var g=this._successHandler,d=this._errorHandler,f=this._appendQueryParams,k=this._url+"/ReviewerResults/writeFeatureAsResult",k=f(k),e=new h;c({callbackParamName:"callback",url:k,content:{reviewerAttributes:a.toJSON(),feature:l.stringify(b.toJson()),f:"json"}}).then(n.hitch(this,
function(a,b){b=Error();if(void 0!==a.error)b.message=a.error.message,b.code=a.error.code,d(b,e);else try{void 0!==a.result&&"error"===a.result?(b.message=a.messages,b.code=a.result,d(b,e)):"success"===a.result?g({success:!0},"onWriteFeatureAsResultComplete",e):d(null,e)}catch(E){d(E,e)}}),function(a,b){d(a,e)});return e},getLayerDefinition:function(a){var b=this._successHandler,g=this._errorHandler,d=this._appendQueryParams,f=this._url+"/ReviewerResults/getLayerDefinition",f=d(f),k=new h,d={f:"json"};
if(null!==a||void 0!==a)d.filtersArray=a.toJSON();c({callbackParamName:"callback",url:f,content:d}).then(n.hitch(this,function(a,d){if(void 0!==a.error)d=Error(),d.message=a.error.message,d.code=a.error.code,g(d,k);else try{void 0===a.whereClause?g(null,k):b({whereClause:a.whereClause},"onGetLayerDefinitionComplete",k)}catch(A){g(A,k)}}),function(a,b){g(a,k)});return k},getBatchRunDetails:function(b){var d=this._successHandler,g=this._errorHandler,f=this._appendQueryParams,k=this._url+"/ReviewerResults/getBatchRunDetails",
k=f(k),e=new h;c({callbackParamName:"callback",url:k,content:{batchRunIds:l.stringify(b),f:"json"}}).then(n.hitch(this,function(b,c){if(void 0!==b.error)c=Error(),c.message=b.error.message,c.code=b.error.code,g(c,e);else try{if(void 0===b.features||void 0===b.fieldAliases||void 0===b.fields)g(null,e);else{var f=new a(b);d({featureSet:f},"onGetBatchRunDetailsComplete",e)}}catch(E){g(E,e)}}),function(a,b){g(a,e)});return e},updateLifecycleStatus:function(a,b,g,f){var k=this._successHandler,p=this._errorHandler,
l=this._appendQueryParams,u=this._url+"/ReviewerResults/updateLifecycleStatus",u=l(u),m=new h;c({callbackParamName:"callback",url:u,content:{sessionId:a,lifecycleStatus:b,technicianName:g,filtersArray:f.toJSON(),f:"json"}}).then(n.hitch(this,function(a,b){if(void 0!==a.error)b=Error(),b.message=a.error.message,b.code=a.error.code,p(b,m);else try{var g=[];e.forEach(a.updateResults,function(a){var b=new d;b.error=Error(a.description);b.success=a.success;b.objectId=a.objectId;g.push(b)});k({featureEditResults:g},
"onUpdateLifecycleStatusComplete",m)}catch(B){p(B,m)}}),function(a,b){p(a,m)});return m},getResultsFieldNames:function(){return"recordId objectId subtype category sessionId checktitle resourceName checkName notes severity reviewStatus correctionStatus verificationStatus reviewTechnician correctionTechnician verificationTechnician reviewDateUtc correctionDateUtc verificationDateUtc lifecycleStatus".split(" ")},onGetResultsComplete:function(a){},onWriteResultComplete:function(a){},onWriteFeatureAsResultComplete:function(a){},
onGetLayerDefinitionComplete:function(a){},onGetBatchRunDetailsComplete:function(a){},onUpdateLifecycleStatusComplete:function(a){}});b("extend-esri")&&n.setObject("tasks.datareviewer.ReviewerResultsTask",m,k);return m})},"esri/tasks/datareviewer/ReviewerLifecycle":function(){define(["dojo/_base/declare","dojo/has","dojo/_base/lang","../../kernel"],function(m,n,e,h){m={declaredClass:"esri.tasks.datareviewer.ReviewerLifecycle",UNKNOWN:0,REVIEWED:1,RESOLVED:2,MARK_AS_EXCPETION:3,ACCEPTABLE:4,UNRESOLVED_EXCEPTION:5,
UNACCEPTABLE:6,UNRESOLVED_UNACCEPTABLE:7,UNRESOLVED_ACCEPTABLE:8,EXCEPTION:9,NEW:10,PASSED:11,FAILED:12,REVIEW:2,CORRECTION:4,VERIFICATION:6,LIFECYCLESTATUS_DESCRIPTIONS:{0:"Unknown",1:"Reviewed",2:"Resolved",3:"Mark As Exception",4:"Acceptable",6:"Unacceptable",9:"Exception",10:"New",11:"Passed",12:"Failed"},LIFECYCLEPHASE_DESCRIPTIONS:{2:"Review",4:"Correction",6:"Verification"},getLifecycleInfo:function(e){if(null===e||0===e.length)return null;e.sort();for(var b=[],b=this._getNextStatus(e[0]),
f=1;f<e.length;f++){for(var c=this._getNextStatus(e[f]),a=[],d=0;d<c.length;d++)-1!=b.indexOf(c[d])&&a.push(c[d]);if(0<a.length)b=a;else{b.length=0;break}}e=null;0<b.length&&(e={nextLifecycleStatus:b,nextLifecyclePhase:this._getNextLifecyclePhase(b[0])});return e},toLifecycleStatusString:function(e){return isNaN(e)||!1===this.LIFECYCLESTATUS_DESCRIPTIONS.hasOwnProperty(e)?null:this.LIFECYCLESTATUS_DESCRIPTIONS[e]},toLifecyclePhaseString:function(e){return isNaN(e)||!1===this.LIFECYCLEPHASE_DESCRIPTIONS.hasOwnProperty(e)?
null:this.LIFECYCLEPHASE_DESCRIPTIONS[e]},getCurrentLifecyclePhase:function(e){if(isNaN(e)||!1===this.LIFECYCLESTATUS_DESCRIPTIONS.hasOwnProperty(e))return null;var b=-1;switch(e){case this.UNKNOWN:case this.REVIEWED:case this.UNACCEPTABLE:case this.UNRESOLVED_UNACCEPTABLE:case this.NEW:b=this.REVIEW;break;case this.RESOLVED:case this.MARK_AS_EXCPETION:b=this.CORRECTION;break;case this.ACCEPTABLE:case this.EXCEPTION:case this.UNRESOLVED_EXCEPTION:case this.UNRESOLVED_ACCEPTABLE:case this.PASSED:case this.FAILED:b=
this.VERIFICATION}return this.LIFECYCLEPHASE_DESCRIPTIONS[b]},_getNextStatus:function(e){var b=[];switch(e){case this.UNKNOWN:b.push(this.RESOLVED);b.push(this.MARK_AS_EXCPETION);b.push(this.PASSED);b.push(this.FAILED);break;case this.REVIEWED:b.push(this.RESOLVED);b.push(this.MARK_AS_EXCPETION);break;case this.NEW:b.push(this.PASSED);b.push(this.FAILED);break;case this.UNACCEPTABLE:case this.UNRESOLVED_UNACCEPTABLE:b.push(this.RESOLVED);b.push(this.MARK_AS_EXCPETION);break;case this.RESOLVED:b.push(this.ACCEPTABLE);
b.push(this.UNACCEPTABLE);break;case this.MARK_AS_EXCPETION:case this.UNRESOLVED_EXCEPTION:case this.UNRESOLVED_ACCEPTABLE:b.push(this.EXCEPTION);b.push(this.UNACCEPTABLE);break;case this.ACCEPTABLE:b.push(this.UNACCEPTABLE);break;case this.EXCEPTION:b.push(this.UNACCEPTABLE);break;case this.PASSED:b.push(this.FAILED);break;case this.FAILED:b.push(this.PASSED)}return b},_getNextLifecyclePhase:function(e){var b=-1;switch(e){case this.UNKNOWN:case this.REVIEWED:case this.UNACCEPTABLE:case this.UNRESOLVED_UNACCEPTABLE:b=
this.CORRECTION;break;case this.NEW:case this.RESOLVED:case this.MARK_AS_EXCPETION:case this.PASSED:case this.FAILED:b=this.VERIFICATION;break;case this.ACCEPTABLE:case this.EXCEPTION:case this.UNRESOLVED_EXCEPTION:case this.UNRESOLVED_ACCEPTABLE:b=this.REVIEW}return b}};n("extend-esri")&&e.setObject("tasks.datareviewer.ReviewerLifecycle",m,h);return m})},"dojox/charting/Chart":function(){define("../main dojo/_base/lang dojo/_base/array dojo/_base/declare dojo/dom-style dojo/dom dojo/dom-geometry dojo/dom-construct dojo/_base/Color dojo/sniff ./Element ./SimpleTheme ./Series ./axis2d/common dojox/gfx/shape dojox/gfx dojo/has!dojo-bidi?./bidi/Chart dojox/lang/functional dojox/lang/functional/fold dojox/lang/functional/reversed".split(" "),
function(m,n,e,h,l,b,f,c,a,d,k,u,q,g,p,x,P,w){function S(a,b){a&&b&&(a.min=Math.min(a.min,b.min),a.max=Math.max(a.max,b.max));return a||b}function A(a,b){var g={},d={};e.forEach(a,function(a){var b=g[a.name]=a.getSeriesStats();a.hAxis&&(d[a.hAxis]=S(d[a.hAxis],{min:b.hmin,max:b.hmax}));a.vAxis&&(d[a.vAxis]=S(d[a.vAxis],{min:b.vmin,max:b.vmax}))});e.forEach(a,function(a){var c=g[a.name];if(a.hAxis){var f=d[a.hAxis];c.hmin=f.min;c.hmax=f.max}a.vAxis&&(f=d[a.vAxis],c.vmin=f.min,c.vmax=f.max);a.initializeScalers(b,
c)})}var E=n.getObject("charting",!0,m),U=w.lambda("item.clear()"),Q=w.lambda("item.purgeGroup()"),B=w.lambda("item.destroy()"),I=w.lambda("item.dirty \x3d false"),y=w.lambda("item.dirty \x3d true"),z=w.lambda("item.name"),t={l:10,t:10,r:10,b:10};m=h(d("dojo-bidi")?"dojox.charting.NonBidiChart":"dojox.charting.Chart",null,{constructor:function(a,g){g||(g={});this.margins=g.margins||t;this._customMargins=!!g.margins;this.stroke=g.stroke;this.fill=g.fill;this.delayInMs=g.delayInMs||200;this.title=g.title;
this.titleGap=g.titleGap;this.titlePos=g.titlePos;this.titleFont=g.titleFont;this.titleFontColor=g.titleFontColor;this.titleAlign=g.titleAlign;this.chartTitle=null;this.htmlLabels=!0;"htmlLabels"in g&&(this.htmlLabels=g.htmlLabels);this.theme=null;this.axes={};this.stack=[];this.plots={};this.series=[];this.runs={};this.dirty=!0;this.node=b.byId(a);a=f.getMarginBox(a);this.surface=x.createSurface(this.node,a.w||400,a.h||300);-1==this.surface.declaredClass.indexOf("vml")&&(this._nativeClip=!0)},destroy:function(){e.forEach(this.series,
B);e.forEach(this.stack,B);w.forIn(this.axes,B);this.surface.destroy();this.chartTitle&&this.chartTitle.tagName&&c.destroy(this.chartTitle)},getCoords:function(){var a=this.node,b=l.getComputedStyle(a),b=f.getMarginBox(a,b),a=f.position(a,!0);b.x=a.x;b.y=a.y;return b},setTheme:function(a){this.theme=a.clone();this._customMargins||(this.margins=this.theme.chart.margins||t);this.dirty=!0;return this},addAxis:function(a,b){var g=b&&b.type||"Default";if("string"==typeof g){if(!E.axis2d||!E.axis2d[g])throw Error("Can't find axis: "+
g+" - Check require() dependencies.");b=new E.axis2d[g](this,b)}else b=new g(this,b);b.name=a;b.dirty=!0;a in this.axes&&this.axes[a].destroy();this.axes[a]=b;this.dirty=!0;return this},getAxis:function(a){return this.axes[a]},removeAxis:function(a){a in this.axes&&(this.axes[a].destroy(),delete this.axes[a],this.dirty=!0);return this},addPlot:function(a,b){var g=b&&b.type||"Default";if("string"==typeof g){if(!E.plot2d||!E.plot2d[g])throw Error("Can't find plot: "+g+" - didn't you forget to dojo.require() it?");
b=new E.plot2d[g](this,b)}else b=new g(this,b);b.name=a;b.dirty=!0;a in this.plots?(this.stack[this.plots[a]].destroy(),this.stack[this.plots[a]]=b):(this.plots[a]=this.stack.length,this.stack.push(b));this.dirty=!0;return this},getPlot:function(a){return this.stack[this.plots[a]]},removePlot:function(a){if(a in this.plots){var b=this.plots[a];delete this.plots[a];this.stack[b].destroy();this.stack.splice(b,1);w.forIn(this.plots,function(a,g,d){a>b&&(d[g]=a-1)});var g=e.filter(this.series,function(b){return b.plot!=
a});g.length<this.series.length&&(e.forEach(this.series,function(b){b.plot==a&&b.destroy()}),this.runs={},e.forEach(g,function(a,b){this.runs[a.plot]=b},this),this.series=g);this.dirty=!0}return this},getPlotOrder:function(){return w.map(this.stack,z)},setPlotOrder:function(a){var b={},g=w.filter(a,function(a){if(!(a in this.plots)||a in b)return!1;b[a]=1;return!0},this);g.length<this.stack.length&&w.forEach(this.stack,function(a){a=a.name;a in b||g.push(a)});a=w.map(g,function(a){return this.stack[this.plots[a]]},
this);w.forEach(a,function(a,b){this.plots[a.name]=b},this);this.stack=a;this.dirty=!0;return this},movePlotToFront:function(a){if(a in this.plots){var b=this.plots[a];if(b){var g=this.getPlotOrder();g.splice(b,1);g.unshift(a);return this.setPlotOrder(g)}}return this},movePlotToBack:function(a){if(a in this.plots){var b=this.plots[a];if(b<this.stack.length-1){var g=this.getPlotOrder();g.splice(b,1);g.push(a);return this.setPlotOrder(g)}}return this},addSeries:function(a,b,g){b=new q(this,b,g);b.name=
a;a in this.runs?(this.series[this.runs[a]].destroy(),this.series[this.runs[a]]=b):(this.runs[a]=this.series.length,this.series.push(b));this.dirty=!0;!("ymin"in b)&&"min"in b&&(b.ymin=b.min);!("ymax"in b)&&"max"in b&&(b.ymax=b.max);return this},getSeries:function(a){return this.series[this.runs[a]]},removeSeries:function(a){if(a in this.runs){var b=this.runs[a];delete this.runs[a];this.series[b].destroy();this.series.splice(b,1);w.forIn(this.runs,function(a,g,d){a>b&&(d[g]=a-1)});this.dirty=!0}return this},
updateSeries:function(a,b,g){a in this.runs&&(a=this.series[this.runs[a]],a.update(b),g?this.dirty=!0:(this._invalidateDependentPlots(a.plot,!1),this._invalidateDependentPlots(a.plot,!0)));return this},getSeriesOrder:function(a){return w.map(w.filter(this.series,function(b){return b.plot==a}),z)},setSeriesOrder:function(a){var b,g={},d=w.filter(a,function(a){if(!(a in this.runs)||a in g)return!1;var d=this.series[this.runs[a]];if(b){if(d.plot!=b)return!1}else b=d.plot;g[a]=1;return!0},this);w.forEach(this.series,
function(a){var c=a.name;c in g||a.plot!=b||d.push(c)});this.series=w.map(d,function(a){return this.series[this.runs[a]]},this).concat(w.filter(this.series,function(a){return a.plot!=b}));w.forEach(this.series,function(a,b){this.runs[a.name]=b},this);this.dirty=!0;return this},moveSeriesToFront:function(a){if(a in this.runs){var b=this.runs[a],g=this.getSeriesOrder(this.series[b].plot);if(a!=g[0])return g.splice(b,1),g.unshift(a),this.setSeriesOrder(g)}return this},moveSeriesToBack:function(a){if(a in
this.runs){var b=this.runs[a],g=this.getSeriesOrder(this.series[b].plot);if(a!=g[g.length-1])return g.splice(b,1),g.push(a),this.setSeriesOrder(g)}return this},resize:function(a,b){switch(arguments.length){case 1:f.setMarginBox(this.node,a);break;case 2:f.setMarginBox(this.node,{w:a,h:b})}var g=f.getMarginBox(this.node),d=this.surface.getDimensions();return d.width!=g.w||d.height!=g.h?(this.surface.setDimensions(g.w,g.h),this.dirty=!0,this.render()):this},getGeometry:function(){var a={};w.forIn(this.axes,
function(b){b.initialized()&&(a[b.name]={name:b.name,vertical:b.vertical,scaler:b.scaler,ticks:b.ticks})});return a},setAxisWindow:function(a,b,g,d){var c=this.axes[a];c&&(c.setWindow(b,g),e.forEach(this.stack,function(b){if(b.hAxis==a||b.vAxis==a)b.zoom=d}));return this},setWindow:function(a,b,g,d,c){"plotArea"in this||this.calculateGeometry();w.forIn(this.axes,function(c){var f,k;f=c.getScaler().bounds;k=f.span/(f.upper-f.lower);c.vertical?(f=b,k=d/k/f):(f=a,k=g/k/f);c.setWindow(f,k)});e.forEach(this.stack,
function(a){a.zoom=c});return this},zoomIn:function(a,b,g){var d=this.axes[a];if(d){var d=d.getScaler().bounds,c=Math.min(b[0],b[1]),f=Math.max(b[0],b[1]),c=b[0]<d.lower?d.lower:c,f=b[1]>d.upper?d.upper:f;this.setAxisWindow(a,(d.upper-d.lower)/(f-c),c-d.lower);g?this.delayedRender():this.render()}},calculateGeometry:function(){if(this.dirty)return this.fullGeometry();var a=e.filter(this.stack,function(a){return a.dirty||a.hAxis&&this.axes[a.hAxis].dirty||a.vAxis&&this.axes[a.vAxis].dirty},this);A(a,
this.plotArea);return this},fullGeometry:function(){this._makeDirty();e.forEach(this.stack,U);this.theme||this.setTheme(new u);e.forEach(this.series,function(a){if(!(a.plot in this.plots)){if(!E.plot2d||!E.plot2d.Default)throw Error("Can't find plot: Default - didn't you forget to dojo.require() it?");var b=new E.plot2d.Default(this,{});b.name=a.plot;this.plots[a.plot]=this.stack.length;this.stack.push(b)}this.stack[this.plots[a.plot]].addSeries(a)},this);e.forEach(this.stack,function(a){a.assignAxes&&
a.assignAxes(this.axes)},this);var a=this.dim=this.surface.getDimensions();a.width=x.normalizedLength(a.width);a.height=x.normalizedLength(a.height);w.forIn(this.axes,U);A(this.stack,a);var b=this.offsets={l:0,r:0,t:0,b:0},g=this;w.forIn(this.axes,function(a){d("dojo-bidi")&&g._resetLeftBottom(a);w.forIn(a.getOffsets(),function(a,g){b[g]=Math.max(a,b[g])})});if(this.title){this.titleGap=0==this.titleGap?0:this.titleGap||this.theme.chart.titleGap||20;this.titlePos=this.titlePos||this.theme.chart.titlePos||
"top";this.titleFont=this.titleFont||this.theme.chart.titleFont;this.titleFontColor=this.titleFontColor||this.theme.chart.titleFontColor||"black";this.titleAlign=this.titleAlign||this.theme&&this.theme.chart&&this.theme.chart.titleAlign||"middle";var c=x.normalizedLength(x.splitFontString(this.titleFont).size);b["top"==this.titlePos?"t":"b"]+=c+this.titleGap}w.forIn(this.margins,function(a,g){b[g]+=a});this.plotArea={width:a.width-b.l-b.r,height:a.height-b.t-b.b};w.forIn(this.axes,U);A(this.stack,
this.plotArea);return this},render:function(){this._delayedRenderHandle&&(clearTimeout(this._delayedRenderHandle),this._delayedRenderHandle=null);this.theme&&this.theme.clear();if(this.dirty)return this.fullRender();this.calculateGeometry();w.forEachRev(this.stack,function(a){a.render(this.dim,this.offsets)},this);w.forIn(this.axes,function(a){a.render(this.dim,this.offsets)},this);this._makeClean();return this},fullRender:function(){this.fullGeometry();var a=this.offsets,b=this.dim,g=Math.max(0,
b.width-a.l-a.r),d=Math.max(0,b.height-a.t-a.b);e.forEach(this.series,Q);w.forIn(this.axes,Q);e.forEach(this.stack,Q);var f=this.surface.children;if(p.dispose)for(var k=0;k<f.length;++k)p.dispose(f[k]);this.chartTitle&&this.chartTitle.tagName&&c.destroy(this.chartTitle);this.surface.clear();this.chartTitle=null;this._renderChartBackground(b,a);this._renderPlotBackground(b,a,g,d);w.foldr(this.stack,function(g,d){return d.render(b,a),0},0);this._nativeClip||this._renderChartBackground(b,a);this.title&&
this._renderTitle(b,a);w.forIn(this.axes,function(g){g.render(b,a)});this._makeClean();return this},_renderTitle:function(a,b){var c="canvas"==x.renderer&&this.htmlLabels||!d("ie")&&!d("opera")&&this.htmlLabels?"html":"gfx",f=x.normalizedLength(x.splitFontString(this.titleFont).size),k=x._base._getTextBox(this.title,{font:this.titleFont}),p=this.titleAlign,e=d("dojo-bidi")&&this.isRightToLeft(),l=a.width/2;"edge"===p?(p="left",l=e?a.width-(b.r+k.w):b.l):"middle"!=p&&(e&&(p="left"===p?"right":"left"),
"left"===p?l=this.margins.l:"right"===p&&(p="left",l=a.width-(this.margins.l+k.w)));this.chartTitle=g.createText[c](this,this.surface,l,"top"==this.titlePos?f+this.margins.t:a.height-this.margins.b,p,this.title,this.titleFont,this.titleFontColor)},_renderChartBackground:function(b,g){var d=this.theme,c,f=void 0!==this.fill?this.fill:d.chart&&d.chart.fill,d=void 0!==this.stroke?this.stroke:d.chart&&d.chart.stroke;if("inherit"==f)for(c=this.node,f=new a(l.get(c,"backgroundColor"));0==f.a&&c!=document.documentElement;)f=
new a(l.get(c,"backgroundColor")),c=c.parentNode;f&&(this._nativeClip?(f=k.prototype._shapeFill(k.prototype._plotFill(f,b),{x:0,y:0,width:b.width+1,height:b.height+1}),this.surface.createRect({width:b.width+1,height:b.height+1}).setFill(f)):(f=k.prototype._plotFill(f,b,g),g.l&&(c={x:0,y:0,width:g.l,height:b.height+1},this.surface.createRect(c).setFill(k.prototype._shapeFill(f,c))),g.r&&(c={x:b.width-g.r,y:0,width:g.r+1,height:b.height+2},this.surface.createRect(c).setFill(k.prototype._shapeFill(f,
c))),g.t&&(c={x:0,y:0,width:b.width+1,height:g.t},this.surface.createRect(c).setFill(k.prototype._shapeFill(f,c))),g.b&&(c={x:0,y:b.height-g.b,width:b.width+1,height:g.b+2},this.surface.createRect(c).setFill(k.prototype._shapeFill(f,c)))));d&&this.surface.createRect({width:b.width-1,height:b.height-1}).setStroke(d)},_renderPlotBackground:function(a,b,g,d){var c=this.theme,f=c.plotarea&&c.plotarea.fill,c=c.plotarea&&c.plotarea.stroke,p={x:b.l-1,y:b.t-1,width:g+2,height:d+2};f&&(f=k.prototype._shapeFill(k.prototype._plotFill(f,
a,b),p),this.surface.createRect(p).setFill(f));c&&this.surface.createRect({x:b.l,y:b.t,width:g+1,height:d+1}).setStroke(c)},delayedRender:function(){this._delayedRenderHandle||(this._delayedRenderHandle=setTimeout(n.hitch(this,function(){this.render()}),this.delayInMs));return this},connectToPlot:function(a,b,g){return a in this.plots?this.stack[this.plots[a]].connect(b,g):null},fireEvent:function(a,b,g){if(a in this.runs){var d=this.series[this.runs[a]].plot;d in this.plots&&(d=this.stack[this.plots[d]])&&
d.fireEvent(a,b,g)}return this},_makeClean:function(){e.forEach(this.axes,I);e.forEach(this.stack,I);e.forEach(this.series,I);this.dirty=!1},_makeDirty:function(){e.forEach(this.axes,y);e.forEach(this.stack,y);e.forEach(this.series,y);this.dirty=!0},_invalidateDependentPlots:function(a,b){if(a in this.plots){var g=this.stack[this.plots[a]],d=b?"vAxis":"hAxis";g[d]?(a=this.axes[g[d]])&&a.dependOnData()&&(a.dirty=!0,e.forEach(this.stack,function(a){a[d]&&a[d]==g[d]&&(a.dirty=!0)})):g.dirty=!0}},setDir:function(a){return this},
_resetLeftBottom:function(a){},formatTruncatedLabel:function(a,b,g){}});return d("dojo-bidi")?h("dojox.charting.Chart",[m,P]):m})},"dojox/charting/Element":function(){define(["dojo/_base/array","dojo/dom-construct","dojo/_base/declare","dojox/gfx","dojox/gfx/shape"],function(m,n,e,h,l){return e("dojox.charting.Element",null,{chart:null,group:null,htmlElements:null,dirty:!0,renderingOptions:null,constructor:function(b,f){this.chart=b;this.group=null;this.htmlElements=[];this.dirty=!0;this.trailingSymbol=
"...";this._events=[];f&&f.renderingOptions&&(this.renderingOptions=f.renderingOptions)},purgeGroup:function(){this.destroyHtmlElements();if(this.group){this.getGroup().removeShape();var b=this.getGroup().children;if(l.dispose)for(var f=0;f<b.length;++f)l.dispose(b[f],!0);this.getGroup().rawNode&&n.empty(this.getGroup().rawNode);this.getGroup().clear();l.dispose&&l.dispose(this.getGroup(),!0);this.getGroup()!=this.group&&(this.group.rawNode&&n.empty(this.group.rawNode),this.group.clear(),l.dispose&&
l.dispose(this.group,!0));this.group=null}this.dirty=!0;this._events.length&&(m.forEach(this._events,function(b){b.shape.disconnect(b.handle)}),this._events=[]);return this},cleanGroup:function(b){this.destroyHtmlElements();b||(b=this.chart.surface);if(this.group){var f;b=this.getGroup().children;if(l.dispose)for(var c=0;c<b.length;++c)l.dispose(b[c],!0);this.getGroup().rawNode&&(f=this.getGroup().bgNode,n.empty(this.getGroup().rawNode));this.getGroup().clear();f&&this.getGroup().rawNode.appendChild(f)}else if(this.group=
b.createGroup(),this.renderingOptions&&this.group.rawNode&&"http://www.w3.org/2000/svg"==this.group.rawNode.namespaceURI)for(c in this.renderingOptions)this.group.rawNode.setAttribute(c,this.renderingOptions[c]);this.dirty=!0;return this},getGroup:function(){return this.group},destroyHtmlElements:function(){this.htmlElements.length&&(m.forEach(this.htmlElements,n.destroy),this.htmlElements=[])},destroy:function(){this.purgeGroup()},overrideShape:function(b,f){},getTextWidth:function(b,f){return h._base._getTextBox(b,
{font:f}).w||0},getTextWithLimitLength:function(b,f,c,a){if(!b||0>=b.length)return{text:"",truncated:a||!1};if(!c||0>=c)return{text:b,truncated:a||!1};var d=b.substring(0,1)+this.trailingSymbol,k=this.getTextWidth(d,f);if(c<=k)return{text:d,truncated:!0};if(this.getTextWidth(b,f)<=c)return{text:b,truncated:a||!1};a=0;for(d=b.length;a<d;){if(2>=d-a){for(;this.getTextWidth(b.substring(0,a)+this.trailingSymbol,f)>c;)--a;return{text:b.substring(0,a)+this.trailingSymbol,truncated:!0}}k=a+Math.round(.618*
(d-a));this.getTextWidth(b.substring(0,k),f)<c?a=k:d=k}},getTextWithLimitCharCount:function(b,f,c,a){return!b||0>=b.length?{text:"",truncated:a||!1}:!c||0>=c||b.length<=c?{text:b,truncated:a||!1}:{text:b.substring(0,c)+this.trailingSymbol,truncated:!0}},_plotFill:function(b,f,c){if(!b||!b.type||!b.space)return b;var a=b.space,d;switch(b.type){case "linear":if("plot"===a||"shapeX"===a||"shapeY"===a){b=h.makeParameters(h.defaultLinearGradient,b);b.space=a;if("plot"===a||"shapeX"===a)d=f.height-c.t-
c.b,b.y1=c.t+d*b.y1/100,b.y2=c.t+d*b.y2/100;if("plot"===a||"shapeY"===a)d=f.width-c.l-c.r,b.x1=c.l+d*b.x1/100,b.x2=c.l+d*b.x2/100}break;case "radial":"plot"===a&&(b=h.makeParameters(h.defaultRadialGradient,b),b.space=a,a=f.width-c.l-c.r,f=f.height-c.t-c.b,b.cx=c.l+a*b.cx/100,b.cy=c.t+f*b.cy/100,b.r=b.r*Math.sqrt(a*a+f*f)/200);break;case "pattern":if("plot"===a||"shapeX"===a||"shapeY"===a){b=h.makeParameters(h.defaultPattern,b);b.space=a;if("plot"===a||"shapeX"===a)d=f.height-c.t-c.b,b.y=c.t+d*b.y/
100,b.height=d*b.height/100;if("plot"===a||"shapeY"===a)d=f.width-c.l-c.r,b.x=c.l+d*b.x/100,b.width=d*b.width/100}}return b},_shapeFill:function(b,f){if(!b||!b.space)return b;var c=b.space,a;switch(b.type){case "linear":if("shape"===c||"shapeX"===c||"shapeY"===c){b=h.makeParameters(h.defaultLinearGradient,b);b.space=c;if("shape"===c||"shapeX"===c)a=f.width,b.x1=f.x+a*b.x1/100,b.x2=f.x+a*b.x2/100;if("shape"===c||"shapeY"===c)a=f.height,b.y1=f.y+a*b.y1/100,b.y2=f.y+a*b.y2/100}break;case "radial":"shape"===
c&&(b=h.makeParameters(h.defaultRadialGradient,b),b.space=c,b.cx=f.x+f.width/2,b.cy=f.y+f.height/2,b.r=b.r*f.width/200);break;case "pattern":if("shape"===c||"shapeX"===c||"shapeY"===c){b=h.makeParameters(h.defaultPattern,b);b.space=c;if("shape"===c||"shapeX"===c)a=f.width,b.x=f.x+a*b.x/100,b.width=a*b.width/100;if("shape"===c||"shapeY"===c)a=f.height,b.y=f.y+a*b.y/100,b.height=a*b.height/100}}return b},_pseudoRadialFill:function(b,f,c,a,d){if(!b||"radial"!==b.type||"shape"!==b.space)return b;var k=
b.space;b=h.makeParameters(h.defaultRadialGradient,b);b.space=k;if(4>arguments.length)return b.cx=f.x,b.cy=f.y,b.r=b.r*c/100,b;k=5>arguments.length?a:(d+a)/2;return{type:"linear",x1:f.x,y1:f.y,x2:f.x+b.r*c*Math.cos(k)/100,y2:f.y+b.r*c*Math.sin(k)/100,colors:b.colors}}})})},"dojox/gfx/shape":function(){define("./_base dojo/_base/lang dojo/_base/declare dojo/_base/kernel dojo/_base/sniff dojo/on dojo/_base/array dojo/dom-construct dojo/_base/Color ./matrix".split(" "),function(m,n,e,h,l,b,f,c,a,d){function k(a,
b){if(!u)return a.splice(b,1);var g=a.length;if(g){for(;b<g;)a[b]=a[b+1],b++;a.length--}}var u=!!l("chrome"),q=m.shape={};q.Shape=e("dojox.gfx.shape.Shape",null,{constructor:function(){this.parentMatrix=this.parent=this.bbox=this.strokeStyle=this.fillStyle=this.matrix=this.shape=this.rawNode=null;if(l("gfxRegistry")){var a=q.register(this);this.getUID=function(){return a}}},destroy:function(){l("gfxRegistry")&&q.dispose(this);this.rawNode&&"__gfxObject__"in this.rawNode&&(this.rawNode.__gfxObject__=
null);this.rawNode=null},getNode:function(){return this.rawNode},getShape:function(){return this.shape},getTransform:function(){return this.matrix},getFill:function(){return this.fillStyle},getStroke:function(){return this.strokeStyle},getParent:function(){return this.parent},getBoundingBox:function(){return this.bbox},getTransformedBoundingBox:function(){var a=this.getBoundingBox();if(!a)return null;var b=this._getRealMatrix();return[d.multiplyPoint(b,a.x,a.y),d.multiplyPoint(b,a.x+a.width,a.y),
d.multiplyPoint(b,a.x+a.width,a.y+a.height),d.multiplyPoint(b,a.x,a.y+a.height)]},getEventSource:function(){return this.rawNode},setClip:function(a){this.clip=a},getClip:function(){return this.clip},setShape:function(a){this.shape=m.makeParameters(this.shape,a);this.bbox=null;return this},setFill:function(a){if(!a)return this.fillStyle=null,this;var b=null;if("object"==typeof a&&"type"in a)switch(a.type){case "linear":b=m.makeParameters(m.defaultLinearGradient,a);break;case "radial":b=m.makeParameters(m.defaultRadialGradient,
a);break;case "pattern":b=m.makeParameters(m.defaultPattern,a)}else b=m.normalizeColor(a);this.fillStyle=b;return this},setStroke:function(b){if(!b)return this.strokeStyle=null,this;if("string"==typeof b||n.isArray(b)||b instanceof a)b={color:b};b=this.strokeStyle=m.makeParameters(m.defaultStroke,b);b.color=m.normalizeColor(b.color);return this},setTransform:function(a){this.matrix=d.clone(a?d.normalize(a):d.identity);return this._applyTransform()},_applyTransform:function(){return this},moveToFront:function(){var a=
this.getParent();a&&(a._moveChildToFront(this),this._moveToFront());return this},moveToBack:function(){var a=this.getParent();a&&(a._moveChildToBack(this),this._moveToBack());return this},_moveToFront:function(){},_moveToBack:function(){},applyRightTransform:function(a){return a?this.setTransform([this.matrix,a]):this},applyLeftTransform:function(a){return a?this.setTransform([a,this.matrix]):this},applyTransform:function(a){return a?this.setTransform([this.matrix,a]):this},removeShape:function(a){this.parent&&
this.parent.remove(this,a);return this},_setParent:function(a,b){this.parent=a;return this._updateParentMatrix(b)},_updateParentMatrix:function(a){this.parentMatrix=a?d.clone(a):null;return this._applyTransform()},_getRealMatrix:function(){for(var a=this.matrix,b=this.parent;b;)b.matrix&&(a=d.multiply(b.matrix,a)),b=b.parent;return a}});q._eventsProcessing={on:function(a,d){return b(this.getEventSource(),a,q.fixCallback(this,m.fixTarget,d))},connect:function(a,b,d){"on"==a.substring(0,2)&&(a=a.substring(2));
return this.on(a,d?n.hitch(b,d):b)},disconnect:function(a){return a.remove()}};q.fixCallback=function(a,b,d,c){c||(c=d,d=null);if(n.isString(c)){d=d||h.global;if(!d[c])throw['dojox.gfx.shape.fixCallback: scope["',c,'"] is null (scope\x3d"',d,'")'].join("");return function(g){return b(g,a)?d[c].apply(d,arguments||[]):void 0}}return d?function(g){return b(g,a)?c.apply(d,arguments||[]):void 0}:function(g){return b(g,a)?c.apply(d,arguments):void 0}};n.extend(q.Shape,q._eventsProcessing);q.Container={_init:function(){this.children=
[];this._batch=0},openBatch:function(){return this},closeBatch:function(){return this},add:function(a){var b=a.getParent();b&&b.remove(a,!0);this.children.push(a);return a._setParent(this,this._getRealMatrix())},remove:function(a,b){for(var g=0;g<this.children.length;++g)if(this.children[g]==a){b||(a.parent=null,a.parentMatrix=null);k(this.children,g);break}return this},clear:function(a){for(var b,g=0;g<this.children.length;++g)b=this.children[g],b.parent=null,b.parentMatrix=null,a&&b.destroy();this.children=
[];return this},getBoundingBox:function(){if(this.children){var a=null;f.forEach(this.children,function(b){var g=b.getBoundingBox();g&&((b=b.getTransform())&&(g=d.multiplyRectangle(b,g)),a?(a.x=Math.min(a.x,g.x),a.y=Math.min(a.y,g.y),a.endX=Math.max(a.endX,g.x+g.width),a.endY=Math.max(a.endY,g.y+g.height)):a={x:g.x,y:g.y,endX:g.x+g.width,endY:g.y+g.height})});a&&(a.width=a.endX-a.x,a.height=a.endY-a.y);return a}return null},_moveChildToFront:function(a){for(var b=0;b<this.children.length;++b)if(this.children[b]==
a){k(this.children,b);this.children.push(a);break}return this},_moveChildToBack:function(a){for(var b=0;b<this.children.length;++b)if(this.children[b]==a){k(this.children,b);this.children.unshift(a);break}return this}};q.Surface=e("dojox.gfx.shape.Surface",null,{constructor:function(){this._parent=this.rawNode=null;this._nodes=[];this._events=[]},destroy:function(){f.forEach(this._nodes,c.destroy);this._nodes=[];f.forEach(this._events,function(a){a&&a.remove()});this._events=[];this.rawNode=null;
if(l("ie"))for(;this._parent.lastChild;)c.destroy(this._parent.lastChild);else this._parent.innerHTML="";this._parent=null},getEventSource:function(){return this.rawNode},_getRealMatrix:function(){return null},isLoaded:!0,onLoad:function(a){},whenLoaded:function(a,d){var g=n.hitch(a,d);if(this.isLoaded)g(this);else b.once(this,"load",function(a){g(a)})}});n.extend(q.Surface,q._eventsProcessing);q.Rect=e("dojox.gfx.shape.Rect",q.Shape,{constructor:function(a){this.shape=m.getDefault("Rect");this.rawNode=
a},getBoundingBox:function(){return this.shape}});q.Ellipse=e("dojox.gfx.shape.Ellipse",q.Shape,{constructor:function(a){this.shape=m.getDefault("Ellipse");this.rawNode=a},getBoundingBox:function(){if(!this.bbox){var a=this.shape;this.bbox={x:a.cx-a.rx,y:a.cy-a.ry,width:2*a.rx,height:2*a.ry}}return this.bbox}});q.Circle=e("dojox.gfx.shape.Circle",q.Shape,{constructor:function(a){this.shape=m.getDefault("Circle");this.rawNode=a},getBoundingBox:function(){if(!this.bbox){var a=this.shape;this.bbox={x:a.cx-
a.r,y:a.cy-a.r,width:2*a.r,height:2*a.r}}return this.bbox}});q.Line=e("dojox.gfx.shape.Line",q.Shape,{constructor:function(a){this.shape=m.getDefault("Line");this.rawNode=a},getBoundingBox:function(){if(!this.bbox){var a=this.shape;this.bbox={x:Math.min(a.x1,a.x2),y:Math.min(a.y1,a.y2),width:Math.abs(a.x2-a.x1),height:Math.abs(a.y2-a.y1)}}return this.bbox}});q.Polyline=e("dojox.gfx.shape.Polyline",q.Shape,{constructor:function(a){this.shape=m.getDefault("Polyline");this.rawNode=a},setShape:function(a,
b){a&&a instanceof Array?(this.inherited(arguments,[{points:a}]),b&&this.shape.points.length&&this.shape.points.push(this.shape.points[0])):this.inherited(arguments,[a]);return this},_normalizePoints:function(){var a=this.shape.points,b=a&&a.length;if(b&&"number"==typeof a[0]){for(var d=[],c=0;c<b;c+=2)d.push({x:a[c],y:a[c+1]});this.shape.points=d}},getBoundingBox:function(){if(!this.bbox&&this.shape.points.length){for(var a=this.shape.points,b=a.length,d=a[0],c=d.x,f=d.y,k=d.x,e=d.y,l=1;l<b;++l)d=
a[l],c>d.x&&(c=d.x),k<d.x&&(k=d.x),f>d.y&&(f=d.y),e<d.y&&(e=d.y);this.bbox={x:c,y:f,width:k-c,height:e-f}}return this.bbox}});q.Image=e("dojox.gfx.shape.Image",q.Shape,{constructor:function(a){this.shape=m.getDefault("Image");this.rawNode=a},getBoundingBox:function(){return this.shape},setStroke:function(){return this},setFill:function(){return this}});q.Text=e(q.Shape,{constructor:function(a){this.fontStyle=null;this.shape=m.getDefault("Text");this.rawNode=a},getFont:function(){return this.fontStyle},
setFont:function(a){this.fontStyle="string"==typeof a?m.splitFontString(a):m.makeParameters(m.defaultFont,a);this._setFont();return this},getBoundingBox:function(){var a=null;this.getShape().text&&(a=m._base._computeTextBoundingBox(this));return a}});q.Creator={createShape:function(a){switch(a.type){case m.defaultPath.type:return this.createPath(a);case m.defaultRect.type:return this.createRect(a);case m.defaultCircle.type:return this.createCircle(a);case m.defaultEllipse.type:return this.createEllipse(a);
case m.defaultLine.type:return this.createLine(a);case m.defaultPolyline.type:return this.createPolyline(a);case m.defaultImage.type:return this.createImage(a);case m.defaultText.type:return this.createText(a);case m.defaultTextPath.type:return this.createTextPath(a)}return null},createGroup:function(){return this.createObject(m.Group)},createRect:function(a){return this.createObject(m.Rect,a)},createEllipse:function(a){return this.createObject(m.Ellipse,a)},createCircle:function(a){return this.createObject(m.Circle,
a)},createLine:function(a){return this.createObject(m.Line,a)},createPolyline:function(a){return this.createObject(m.Polyline,a)},createImage:function(a){return this.createObject(m.Image,a)},createText:function(a){return this.createObject(m.Text,a)},createPath:function(a){return this.createObject(m.Path,a)},createTextPath:function(a){return this.createObject(m.TextPath,{}).setText(a)},createObject:function(a,b){return null}};return q})},"dojox/charting/SimpleTheme":function(){define("dojo/_base/lang dojo/_base/array dojo/_base/declare dojo/_base/Color dojox/lang/utils dojox/gfx/gradutils".split(" "),
function(m,n,e,h,l,b){var f=e("dojox.charting.SimpleTheme",null,{shapeSpaces:{shape:1,shapeX:1,shapeY:1},constructor:function(b){b=b||{};var a=f.defaultTheme;n.forEach("chart plotarea axis grid series marker indicator".split(" "),function(d){this[d]=m.delegate(a[d],b[d])},this);b.seriesThemes&&b.seriesThemes.length?(this.colors=null,this.seriesThemes=b.seriesThemes.slice(0)):(this.seriesThemes=null,this.colors=(b.colors||f.defaultColors).slice(0));this.markerThemes=null;b.markerThemes&&b.markerThemes.length&&
(this.markerThemes=b.markerThemes.slice(0));this.markers=b.markers?m.clone(b.markers):m.delegate(f.defaultMarkers);this.noGradConv=b.noGradConv;this.noRadialConv=b.noRadialConv;b.reverseFills&&this.reverseFills();this._current=0;this._buildMarkerArray()},clone:function(){var b=new this.constructor({chart:this.chart,plotarea:this.plotarea,axis:this.axis,grid:this.grid,series:this.series,marker:this.marker,colors:this.colors,markers:this.markers,indicator:this.indicator,seriesThemes:this.seriesThemes,
markerThemes:this.markerThemes,noGradConv:this.noGradConv,noRadialConv:this.noRadialConv,pieInnerRadius:this.pieInnerRadius});n.forEach("clone clear next skip addMixin post getTick".split(" "),function(a){this.hasOwnProperty(a)&&(b[a]=this[a])},this);return b},clear:function(){this._current=0},next:function(b,a,d){var c=l.merge,f;if(this.colors){f=m.delegate(this.series);var c=m.delegate(this.marker),e=new h(this.colors[this._current%this.colors.length]),g;f.stroke&&f.stroke.color?(f.stroke=m.delegate(f.stroke),
g=new h(f.stroke.color),f.stroke.color=new h(e),f.stroke.color.a=g.a):f.stroke={color:e};c.stroke&&c.stroke.color?(c.stroke=m.delegate(c.stroke),g=new h(c.stroke.color),c.stroke.color=new h(e),c.stroke.color.a=g.a):c.stroke={color:e};!f.fill||f.fill.type?f.fill=e:(g=new h(f.fill),f.fill=new h(e),f.fill.a=g.a);!c.fill||c.fill.type?c.fill=e:(g=new h(c.fill),c.fill=new h(e),c.fill.a=g.a)}else f=this.seriesThemes?c(this.series,this.seriesThemes[this._current%this.seriesThemes.length]):this.series,c=this.markerThemes?
c(this.marker,this.markerThemes[this._current%this.markerThemes.length]):f;f={series:f,marker:c,symbol:c&&c.symbol||this._markers[this._current%this._markers.length]};++this._current;a&&(f=this.addMixin(f,b,a));d&&(f=this.post(f,b));return f},skip:function(){++this._current},addMixin:function(b,a,d,f){if(m.isArray(d))n.forEach(d,function(d){b=this.addMixin(b,a,d)},this);else{var c={};"color"in d&&("line"==a||"area"==a?(m.setObject("series.stroke.color",d.color,c),m.setObject("marker.stroke.color",
d.color,c)):m.setObject("series.fill",d.color,c));n.forEach("stroke outline shadow fill filter font fontColor labelWiring".split(" "),function(a){var b="marker"+a.charAt(0).toUpperCase()+a.substr(1),f=b in d;a in d&&(m.setObject("series."+a,d[a],c),f||m.setObject("marker."+a,d[a],c));f&&m.setObject("marker."+a,d[b],c)});"marker"in d&&(c.symbol=d.marker,c.symbol=d.marker);b=l.merge(b,c)}f&&(b=this.post(b,a));return b},post:function(b,a){var d=b.series.fill,c;return!this.noGradConv&&this.shapeSpaces[d.space]&&
"linear"==d.type&&("bar"==a?c={x1:d.y1,y1:d.x1,x2:d.y2,y2:d.x2}:this.noRadialConv||"shape"!=d.space||"slice"!=a&&"circle"!=a||(c={type:"radial",cx:0,cy:0,r:100}),c)?l.merge(b,{series:{fill:c}}):b},getTick:function(b,a){var d=this.axis.tick;b+="Tick";var c=l.merge;d?this.axis[b]&&(d=c(d,this.axis[b])):d=this.axis[b];a&&(d?a[b]&&(d=c(d,a[b])):d=a[b]);return d},inspectObjects:function(b){n.forEach("chart plotarea axis grid series marker indicator".split(" "),function(a){b(this[a])},this);this.seriesThemes&&
n.forEach(this.seriesThemes,b);this.markerThemes&&n.forEach(this.markerThemes,b)},reverseFills:function(){this.inspectObjects(function(c){c&&c.fill&&(c.fill=b.reverse(c.fill))})},addMarker:function(b,a){this.markers[b]=a;this._buildMarkerArray()},setMarkers:function(b){this.markers=b;this._buildMarkerArray()},_buildMarkerArray:function(){this._markers=[];for(var b in this.markers)this._markers.push(this.markers[b])}});m.mixin(f,{defaultMarkers:{CIRCLE:"m-3,0 c0,-4 6,-4 6,0 m-6,0 c0,4 6,4 6,0",SQUARE:"m-3,-3 l0,6 6,0 0,-6 z",
DIAMOND:"m0,-3 l3,3 -3,3 -3,-3 z",CROSS:"m0,-3 l0,6 m-3,-3 l6,0",X:"m-3,-3 l6,6 m0,-6 l-6,6",TRIANGLE:"m-3,3 l3,-6 3,6 z",TRIANGLE_INVERTED:"m-3,-3 l3,6 3,-6 z"},defaultColors:["#54544c","#858e94","#6e767a","#948585","#474747"],defaultTheme:{chart:{stroke:null,fill:"white",pageStyle:null,titleGap:20,titlePos:"top",titleFont:"normal normal bold 14pt Tahoma",titleFontColor:"#333",titleAlign:"middle"},plotarea:{stroke:null,fill:"white"},axis:{stroke:{color:"#333",width:1},tick:{color:"#666",position:"center",
font:"normal normal normal 7pt Tahoma",fontColor:"#333",labelGap:4},majorTick:{width:1,length:6},minorTick:{width:.8,length:3},microTick:{width:.5,length:1},title:{gap:15,font:"normal normal normal 11pt Tahoma",fontColor:"#333",orientation:"axis"}},series:{stroke:{width:1.5,color:"#333"},outline:{width:.1,color:"#ccc"},shadow:null,fill:"#ccc",font:"normal normal normal 8pt Tahoma",fontColor:"#000",labelWiring:{width:1,color:"#ccc"}},marker:{stroke:{width:1.5,color:"#333"},outline:{width:.1,color:"#ccc"},
shadow:null,fill:"#ccc",font:"normal normal normal 8pt Tahoma",fontColor:"#000"},indicator:{lineStroke:{width:1.5,color:"#333"},lineOutline:{width:.1,color:"#ccc"},lineShadow:null,lineFill:null,stroke:{width:1.5,color:"#333"},outline:{width:.1,color:"#ccc"},shadow:null,fill:"#ccc",radius:3,font:"normal normal normal 10pt Tahoma",fontColor:"#000",markerFill:"#ccc",markerSymbol:"m-3,0 c0,-4 6,-4 6,0 m-6,0 c0,4 6,4 6,0",markerStroke:{width:1.5,color:"#333"},markerOutline:{width:.1,color:"#ccc"},markerShadow:null}}});
return f})},"dojox/lang/utils":function(){define(["..","dojo/_base/lang"],function(m,n){var e=n.getObject("lang.utils",!0,m),h={},l=Object.prototype.toString,b=function(b){if(b)switch(l.call(b)){case "[object Array]":return b.slice(0);case "[object Object]":return n.delegate(b)}return b};n.mixin(e,{coerceType:function(b,c){switch(typeof b){case "number":return Number(eval("("+c+")"));case "string":return String(c);case "boolean":return!!eval("("+c+")")}return eval("("+c+")")},updateWithObject:function(f,
c,a){if(!c)return f;for(var d in f)if(d in c&&!(d in h)){var k=f[d];k&&"object"==typeof k?e.updateWithObject(k,c[d],a):f[d]=a?e.coerceType(k,c[d]):b(c[d])}return f},updateWithPattern:function(f,c,a,d){if(!c||!a)return f;for(var k in a)k in c&&!(k in h)&&(f[k]=d?e.coerceType(a[k],c[k]):b(c[k]));return f},merge:function(b,c){if(c){var a=l.call(b),d=l.call(c),f,h;switch(d){case "[object Array]":if(d==a){a=Array(Math.max(b.length,c.length));f=0;for(d=a.length;f<d;++f)a[f]=e.merge(b[f],c[f]);return a}return c.slice(0);
case "[object Object]":if(d==a&&b){a=n.delegate(b);for(f in c)f in b?(d=b[f],h=c[f],h!==d&&(a[f]=e.merge(d,h))):a[f]=n.clone(c[f]);return a}return n.clone(c)}}return c}});return e})},"dojox/gfx/gradutils":function(){define(["./_base","dojo/_base/lang","./matrix","dojo/_base/Color"],function(m,n,e,h){function l(b,f){if(0>=b)return f[0].color;var c=f.length;if(1<=b)return f[c-1].color;for(var a=0;a<c;++a){var d=f[a];if(d.offset>=b)return a?(f=f[a-1],h.blendColors(new h(f.color),new h(d.color),(b-f.offset)/
(d.offset-f.offset))):d.color}return f[c-1].color}m=m.gradutils={};m.getColor=function(b,f){var c;if(b){switch(b.type){case "linear":c=e.rotate(-Math.atan2(b.y2-b.y1,b.x2-b.x1));var a=e.project(b.x2-b.x1,b.y2-b.y1);f=e.multiplyPoint(a,f);var d=e.multiplyPoint(a,b.x1,b.y1),a=e.multiplyPoint(a,b.x2,b.y2),a=e.multiplyPoint(c,a.x-d.x,a.y-d.y).x;c=e.multiplyPoint(c,f.x-d.x,f.y-d.y).x/a;break;case "radial":c=f.x-b.cx,f=f.y-b.cy,c=Math.sqrt(c*c+f*f)/b.r}return l(c,b.colors)}return new h(b||[0,0,0,0])};m.reverse=
function(b){if(b)switch(b.type){case "linear":case "radial":if(b=n.delegate(b),b.colors){for(var f=b.colors,c=f.length,a=0,d,e=b.colors=Array(f.length);a<c;++a)d=f[a],e[a]={offset:1-d.offset,color:d.color};e.sort(function(a,b){return a.offset-b.offset})}}return b};return m})},"dojox/charting/Series":function(){define(["dojo/_base/lang","dojo/_base/declare","./Element"],function(m,n,e){return n("dojox.charting.Series",e,{constructor:function(e,l,b){m.mixin(this,b);"string"!=typeof this.plot&&(this.plot=
"default");this.update(l)},clear:function(){this.dyn={}},update:function(e){m.isArray(e)?this.data=e:(this.source=e,this.data=this.source.data,this.source.setSeriesObject&&this.source.setSeriesObject(this));this.dirty=!0;this.clear()}})})},"dojox/charting/axis2d/common":function(){define(["dojo/_base/lang","dojo/_base/window","dojo/dom-geometry","dojox/gfx","dojo/has"],function(m,n,e,h,l){var b=m.getObject("dojox.charting.axis2d.common",!0),f=function(b){b.marginLeft="0px";b.marginTop="0px";b.marginRight=
"0px";b.marginBottom="0px";b.paddingLeft="0px";b.paddingTop="0px";b.paddingRight="0px";b.paddingBottom="0px";b.borderLeftWidth="0px";b.borderTopWidth="0px";b.borderRightWidth="0px";b.borderBottomWidth="0px"};return m.mixin(b,{createText:{gfx:function(b,a,d,f,e,l,g,p){return a.createText({x:d,y:f,text:l,align:e}).setFont(g).setFill(p)},html:function(b,a,d,k,m,q,g,p,x){a=n.doc.createElement("div");var c=a.style,w;b.getTextDir&&(a.dir=b.getTextDir(q));f(c);c.font=g;a.innerHTML=String(q).replace(/\s/g,
"\x26nbsp;");c.color=p;c.position="absolute";c.left="-10000px";n.body().appendChild(a);var S=h.normalizedLength(h.splitFontString(g).size);x||(a.getBoundingClientRect?(w=a.getBoundingClientRect(),w=w.width||w.right-w.left):w=e.getMarginBox(a).w);"rtl"==a.dir&&(d+=x?x:w);n.body().removeChild(a);c.position="relative";if(x)switch(c.width=x+"px",m){case "middle":c.textAlign="center";c.left=d-x/2+"px";break;case "end":c.textAlign="right";c.left=d-x+"px";break;default:c.left=d+"px",c.textAlign="left"}else switch(m){case "middle":c.left=
Math.floor(d-w/2)+"px";break;case "end":c.left=Math.floor(d-w)+"px";break;default:c.left=Math.floor(d)+"px"}c.top=Math.floor(k-S)+"px";c.whiteSpace="nowrap";x=n.doc.createElement("div");c=x.style;f(c);c.width="0px";c.height="0px";x.appendChild(a);b.node.insertBefore(x,b.node.firstChild);l("dojo-bidi")&&b.htmlElementsRegistry.push([x,d,k,m,q,g,p]);return x}}})})},"dojox/lang/functional":function(){define(["./functional/lambda","./functional/array","./functional/object"],function(m){return m})},"dojox/lang/functional/lambda":function(){define(["../..",
"dojo/_base/lang","dojo/_base/array"],function(m,n,e){var h=n.getObject("lang.functional",!0,m),l={},b=1<"ab".split(/a*/).length?String.prototype.split:function(a){var b=this.split.call(this,a);(a=a.exec(this))&&0==a.index&&b.unshift("");return b},f=function(a){var d=[],c=b.call(a,/\s*->\s*/m);if(1<c.length)for(;c.length;)a=c.pop(),d=c.pop().split(/\s*,\s*|\s+/m),c.length&&c.push("(function("+d.join(", ")+"){ return ("+a+"); })");else if(a.match(/\b_\b/))d=["_"];else{var c=a.match(/^\s*(?:[+*\/%&|\^\.=<>]|!=)/m),
f=a.match(/[+\-*\/%&|\^\.=<>!]\s*$/m);if(c||f)c&&(d.push("$1"),a="$1"+a),f&&(d.push("$2"),a+="$2");else{var c=a.replace(/(?:\b[A-Z]|\.[a-zA-Z_$])[a-zA-Z_$\d]*|[a-zA-Z_$][a-zA-Z_$\d]*:|this|true|false|null|undefined|typeof|instanceof|in|delete|new|void|arguments|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|escape|eval|isFinite|isNaN|parseFloat|parseInt|unescape|dojo|dijit|dojox|window|document|'(?:[^'\\]|\\.)*'|"(?:[^"\\]|\\.)*"/g,"").match(/([a-z_$][a-z_$\d]*)/gi)||[],l={};e.forEach(c,
function(a){l.hasOwnProperty(a)||(d.push(a),l[a]=1)})}}return{args:d,body:a}},c=function(a){return a.length?function(){var b=a.length-1,c=h.lambda(a[b]).apply(this,arguments);for(--b;0<=b;--b)c=h.lambda(a[b]).call(this,c);return c}:function(a){return a}};n.mixin(h,{rawLambda:function(a){return f(a)},buildLambda:function(a){a=f(a);return"function("+a.args.join(",")+"){return ("+a.body+");}"},lambda:function(a){if("function"==typeof a)return a;if(a instanceof Array)return c(a);if(l.hasOwnProperty(a))return l[a];
var b=f(a);return l[a]=new Function(b.args,"return ("+b.body+");")},clearLambdaCache:function(){l={}}});return h})},"dojox/lang/functional/array":function(){define(["dojo/_base/kernel","dojo/_base/lang","dojo/_base/array","./lambda"],function(m,n,e,h){var l={};n.mixin(h,{filter:function(b,f,c){"string"==typeof b&&(b=b.split(""));c=c||m.global;f=h.lambda(f);var a=[],d,e,u;if(n.isArray(b))for(e=0,u=b.length;e<u;++e)d=b[e],f.call(c,d,e,b)&&a.push(d);else if("function"==typeof b.hasNext&&"function"==
typeof b.next)for(e=0;b.hasNext();)d=b.next(),f.call(c,d,e++,b)&&a.push(d);else for(e in b)e in l||(d=b[e],f.call(c,d,e,b)&&a.push(d));return a},forEach:function(b,f,c){"string"==typeof b&&(b=b.split(""));c=c||m.global;f=h.lambda(f);var a,d;if(n.isArray(b))for(a=0,d=b.length;a<d;f.call(c,b[a],a,b),++a);else if("function"==typeof b.hasNext&&"function"==typeof b.next)for(a=0;b.hasNext();f.call(c,b.next(),a++,b));else for(a in b)a in l||f.call(c,b[a],a,b);return c},map:function(b,f,c){"string"==typeof b&&
(b=b.split(""));c=c||m.global;f=h.lambda(f);var a,d,e;if(n.isArray(b))for(a=Array(d=b.length),e=0;e<d;a[e]=f.call(c,b[e],e,b),++e);else if("function"==typeof b.hasNext&&"function"==typeof b.next)for(a=[],e=0;b.hasNext();a.push(f.call(c,b.next(),e++,b)));else for(e in a=[],b)e in l||a.push(f.call(c,b[e],e,b));return a},every:function(b,f,c){"string"==typeof b&&(b=b.split(""));c=c||m.global;f=h.lambda(f);var a,d;if(n.isArray(b))for(a=0,d=b.length;a<d;++a){if(!f.call(c,b[a],a,b))return!1}else if("function"==
typeof b.hasNext&&"function"==typeof b.next)for(a=0;b.hasNext();){if(!f.call(c,b.next(),a++,b))return!1}else for(a in b)if(!(a in l||f.call(c,b[a],a,b)))return!1;return!0},some:function(b,f,c){"string"==typeof b&&(b=b.split(""));c=c||m.global;f=h.lambda(f);var a,d;if(n.isArray(b))for(a=0,d=b.length;a<d;++a){if(f.call(c,b[a],a,b))return!0}else if("function"==typeof b.hasNext&&"function"==typeof b.next)for(a=0;b.hasNext();){if(f.call(c,b.next(),a++,b))return!0}else for(a in b)if(!(a in l)&&f.call(c,
b[a],a,b))return!0;return!1}});return h})},"dojox/lang/functional/object":function(){define(["dojo/_base/kernel","dojo/_base/lang","./lambda"],function(m,n,e){var h={};n.mixin(e,{keys:function(e){var b=[],f;for(f in e)f in h||b.push(f);return b},values:function(e){var b=[],f;for(f in e)f in h||b.push(e[f]);return b},filterIn:function(l,b,f){f=f||m.global;b=e.lambda(b);var c={},a,d;for(d in l)d in h||(a=l[d],b.call(f,a,d,l)&&(c[d]=a));return c},forIn:function(l,b,f){f=f||m.global;b=e.lambda(b);for(var c in l)c in
h||b.call(f,l[c],c,l);return f},mapIn:function(l,b,f){f=f||m.global;b=e.lambda(b);var c={},a;for(a in l)a in h||(c[a]=b.call(f,l[a],a,l));return c}});return e})},"dojox/lang/functional/fold":function(){define(["dojo/_base/lang","dojo/_base/array","dojo/_base/kernel","./lambda"],function(m,n,e,h){var l={};m.mixin(h,{foldl:function(b,f,c,a){"string"==typeof b&&(b=b.split(""));a=a||e.global;f=h.lambda(f);var d,k;if(m.isArray(b))for(d=0,k=b.length;d<k;c=f.call(a,c,b[d],d,b),++d);else if("function"==typeof b.hasNext&&
"function"==typeof b.next)for(d=0;b.hasNext();c=f.call(a,c,b.next(),d++,b));else for(d in b)d in l||(c=f.call(a,c,b[d],d,b));return c},foldl1:function(b,f,c){"string"==typeof b&&(b=b.split(""));c=c||e.global;f=h.lambda(f);var a,d,k;if(m.isArray(b))for(a=b[0],d=1,k=b.length;d<k;a=f.call(c,a,b[d],d,b),++d);else if("function"==typeof b.hasNext&&"function"==typeof b.next){if(b.hasNext())for(a=b.next(),d=1;b.hasNext();a=f.call(c,a,b.next(),d++,b));}else for(d in k=!0,b)d in l||(k?(a=b[d],k=!1):a=f.call(c,
a,b[d],d,b));return a},foldr:function(b,f,c,a){"string"==typeof b&&(b=b.split(""));a=a||e.global;f=h.lambda(f);for(var d=b.length;0<d;--d,c=f.call(a,c,b[d],d,b));return c},foldr1:function(b,f,c){"string"==typeof b&&(b=b.split(""));c=c||e.global;f=h.lambda(f);for(var a=b.length,d=b[a-1],a=a-1;0<a;--a,d=f.call(c,d,b[a],a,b));return d},reduce:function(b,f,c){return 3>arguments.length?h.foldl1(b,f):h.foldl(b,f,c)},reduceRight:function(b,f,c){return 3>arguments.length?h.foldr1(b,f):h.foldr(b,f,c)},unfold:function(b,
f,c,a,d){d=d||e.global;f=h.lambda(f);c=h.lambda(c);b=h.lambda(b);for(var k=[];!b.call(d,a);k.push(f.call(d,a)),a=c.call(d,a));return k}})})},"dojox/lang/functional/reversed":function(){define(["dojo/_base/lang","dojo/_base/kernel","./lambda"],function(m,n,e){m.mixin(e,{filterRev:function(h,l,b){"string"==typeof h&&(h=h.split(""));b=b||n.global;l=e.lambda(l);for(var f=[],c,a=h.length-1;0<=a;--a)c=h[a],l.call(b,c,a,h)&&f.push(c);return f},forEachRev:function(h,l,b){"string"==typeof h&&(h=h.split(""));
b=b||n.global;l=e.lambda(l);for(var f=h.length-1;0<=f;l.call(b,h[f],f,h),--f);},mapRev:function(h,l,b){"string"==typeof h&&(h=h.split(""));b=b||n.global;l=e.lambda(l);for(var f=h.length,c=Array(f),f=f-1,a=0;0<=f;c[a++]=l.call(b,h[f],f,h),--f);return c},everyRev:function(h,l,b){"string"==typeof h&&(h=h.split(""));b=b||n.global;l=e.lambda(l);for(var f=h.length-1;0<=f;--f)if(!l.call(b,h[f],f,h))return!1;return!0},someRev:function(h,l,b){"string"==typeof h&&(h=h.split(""));b=b||n.global;l=e.lambda(l);
for(var f=h.length-1;0<=f;--f)if(l.call(b,h[f],f,h))return!0;return!1}});return e})},"dojox/charting/plot2d/Bars":function(){define("dojo/_base/lang dojo/_base/array dojo/_base/declare dojo/has ./CartesianBase ./_PlotEvents ./common dojox/gfx/fx dojox/lang/utils dojox/lang/functional dojox/lang/functional/reversed".split(" "),function(m,n,e,h,l,b,f,c,a,d,k){var u=k.lambda("item.purgeGroup()"),q=function(){return!1};return e("dojox.charting.plot2d.Bars",[l,b],{defaultParams:{gap:0,animate:null,enableCache:!1},
optionalParams:{minBarSize:1,maxBarSize:1,stroke:{},outline:{},shadow:{},fill:{},filter:{},styleFunc:null,font:"",fontColor:""},constructor:function(b,d){this.opt=m.clone(m.mixin(this.opt,this.defaultParams));a.updateWithObject(this.opt,d);a.updateWithPattern(this.opt,d,this.optionalParams);this.animate=this.opt.animate;this.renderingOptions={"shape-rendering":"crispEdges"}},getSeriesStats:function(){var a=f.collectSimpleStats(this.series,m.hitch(this,"isNullValue")),b;a.hmin-=.5;a.hmax+=.5;b=a.hmin;
a.hmin=a.vmin;a.vmin=b;b=a.hmax;a.hmax=a.vmax;a.vmax=b;return a},createRect:function(a,b,d){var c;this.opt.enableCache&&0<a._rectFreePool.length?(c=a._rectFreePool.pop(),c.setShape(d),b.add(c)):c=b.createRect(d);this.opt.enableCache&&a._rectUsePool.push(c);return c},createLabel:function(a,b,d,c){this.opt.labels&&"outside"==this.opt.labelStyle?this.renderLabel(a,d.x+d.width+this.opt.labelOffset,d.y+d.height/2,this._getLabel(isNaN(b.y)?b:b.y),c,"start"):this.inherited(arguments)},render:function(a,
b){if(this.zoom&&!this.isDataDirty())return this.performZoom(a,b);this.dirty=this.isDirty();this.resetEvents();var c;this.dirty&&(n.forEach(this.series,u),this._eventSeries={},this.cleanGroup(),c=this.getGroup(),d.forEachRev(this.series,function(a){a.cleanGroup(c)}));var f=this.chart.theme,g=this._hScaler.scaler.getTransformerFromModel(this._hScaler),e=this._vScaler.scaler.getTransformerFromModel(this._vScaler),k=Math.max(this._hScaler.bounds.lower,this._hAxis?this._hAxis.naturalBaseline:0),p=g(k),
l=this.events(),q=this.getBarProperties(),B=this.series.length;n.forEach(this.series,function(a){a.hidden&&B--});for(var I=B,y=this.extractValues(this._vScaler),y=this.rearrangeValues(y,g,p),z=0;z<this.series.length;z++){var t=this.series[z];if(this.dirty||t.dirty){t.cleanGroup();this.opt.enableCache&&(t._rectFreePool=(t._rectFreePool?t._rectFreePool:[]).concat(t._rectUsePool?t._rectUsePool:[]),t._rectUsePool=[]);var N=f.next("bar",[this.opt,t]);if(t.hidden)t.dyn.fill=N.series.fill,t.dyn.stroke=N.series.stroke;
else{I--;var O=Array(t.data.length);c=t.group;for(var F=n.some(t.data,function(a){return"number"==typeof a||a&&!a.hasOwnProperty("x")}),T=F?Math.min(t.data.length,Math.ceil(this._vScaler.bounds.to)):t.data.length,G=F?Math.max(0,Math.floor(this._vScaler.bounds.from-1)):0;G<T;++G){var r=t.data[G];if(!this.isNullValue(r)){var K=this.getValue(r,G,z,F),D=y[z][G],v,L;this.opt.styleFunc||"number"!=typeof r?(v="number"!=typeof r?[r]:[],this.opt.styleFunc&&v.push(this.opt.styleFunc(r)),v=f.addMixin(N,"bar",
v,!0)):v=f.post(N,"bar");if(D&&1<=q.height){var H={x:b.l+p+Math.min(D,0),y:a.height-b.b-e(K.x+1.5)+q.gap+q.thickness*(B-I-1),width:Math.abs(D),height:q.height};v.series.shadow&&(L=m.clone(H),L.x+=v.series.shadow.dx,L.y+=v.series.shadow.dy,L=this.createRect(t,c,L).setFill(v.series.shadow.color).setStroke(v.series.shadow),this.animate&&this._animateBar(L,b.l+p,-D));var C=this._plotFill(v.series.fill,a,b),C=this._shapeFill(C,H),C=this.createRect(t,c,H).setFill(C).setStroke(v.series.stroke);C.setFilter&&
v.series.filter&&C.setFilter(v.series.filter);t.dyn.fill=C.getFill();t.dyn.stroke=C.getStroke();if(l){var R={element:"bar",index:G,run:t,shape:C,shadow:L,cx:K.y,cy:K.x+1.5,x:F?G:t.data[G].x,y:F?t.data[G]:t.data[G].y};this._connectEvents(R);O[G]=R}!isNaN(K.py)&&K.py>k&&(H.x+=g(K.py),H.width-=g(K.py));this.createLabel(c,r,H,v);this.animate&&this._animateBar(C,b.l+p,-Math.abs(D))}}}this._eventSeries[t.name]=O;t.dirty=!1}}else f.skip(),this._reconnectEvents(t.name)}this.dirty=!1;h("dojo-bidi")&&this._checkOrientation(this.group,
a,b);return this},getValue:function(a,b,d,c){c?(d="number"==typeof a?a:a.y,a=b):(d=a.y,a=a.x-1);return{y:d,x:a}},extractValues:function(a){for(var b=[],d=this.series.length-1;0<=d;--d){var c=this.series[d];if(this.dirty||c.dirty){var f=n.some(c.data,function(a){return"number"==typeof a||a&&!a.hasOwnProperty("x")}),g=f?Math.max(0,Math.floor(a.bounds.from-1)):0,f=f?Math.min(c.data.length,Math.ceil(a.bounds.to)):c.data.length,e=b[d]=[];e.min=g;for(e.max=f;g<f;++g){var k=c.data[g];e[g]=this.isNullValue(k)?
0:"number"==typeof k?k:k.y}}}return b},rearrangeValues:function(a,b,d){for(var c=0,f=a.length;c<f;++c){var g=a[c];if(g)for(var e=g.min,k=g.max;e<k;++e){var p=g[e];g[e]=this.isNullValue(p)?0:b(p)-d}}return a},isNullValue:function(a){if(null===a||"undefined"==typeof a)return!0;var b=this._hAxis?this._hAxis.isNullValue:q,d=this._vAxis?this._vAxis.isNullValue:q;return"number"==typeof a?d(.5)||b(a):d(isNaN(a.x)?.5:a.x+.5)||null===a.y||b(a.y)},getBarProperties:function(){var a=f.calculateBarSize(this._vScaler.bounds.scale,
this.opt);return{gap:a.gap,height:a.size,thickness:0}},_animateBar:function(a,b,d){0==d&&(d=1);c.animateTransform(m.delegate({shape:a,duration:1200,transform:[{name:"translate",start:[b-b/d,0],end:[0,0]},{name:"scale",start:[1/d,1],end:[1,1]},{name:"original"}]},this.animate)).play()}})})},"dojox/charting/plot2d/CartesianBase":function(){define("dojo/_base/lang dojo/_base/declare dojo/_base/connect dojo/has ./Base ../scaler/primitive dojox/gfx dojox/gfx/fx dojox/lang/utils".split(" "),function(m,
n,e,h,l,b,f,c,a){var d=function(){return!1};return n("dojox.charting.plot2d.CartesianBase",l,{baseParams:{hAxis:"x",vAxis:"y",labels:!1,labelOffset:10,fixed:!0,precision:1,labelStyle:"inside",htmlLabels:!0,omitLabels:!0,labelFunc:null},constructor:function(b,d){this.axes=["hAxis","vAxis"];this.zoom=null;this.zoomQueue=[];this.lastWindow={vscale:1,hscale:1,xoffset:0,yoffset:0};this.hAxis=d&&d.hAxis||"x";this.vAxis=d&&d.vAxis||"y";this.series=[];this.opt=m.clone(this.baseParams);a.updateWithObject(this.opt,
d)},clear:function(){this.inherited(arguments);this._vAxis=this._hAxis=null;return this},cleanGroup:function(a,b){this.inherited(arguments);if(!b&&this.chart._nativeClip){var d=this.chart.offsets,c=this.chart.dim;this.group.setClip({x:d.l,y:d.t,width:Math.max(0,c.width-d.l-d.r),height:Math.max(0,c.height-d.t-d.b)});this._clippedGroup||(this._clippedGroup=this.group.createGroup())}},purgeGroup:function(){this.inherited(arguments);this._clippedGroup=null},getGroup:function(){return this._clippedGroup||
this.group},setAxis:function(a){a&&(this[a.vertical?"_vAxis":"_hAxis"]=a);return this},toPage:function(a){var b=this._hAxis,d=this._vAxis,c=b.getScaler(),f=d.getScaler(),e=c.scaler.getTransformerFromModel(c),k=f.scaler.getTransformerFromModel(f),l=this.chart.getCoords(),h=this.chart.offsets,m=this.chart.dim,c=function(a){var c={};c.x=e(a[b.name])+l.x+h.l;c.y=l.y+m.height-h.b-k(a[d.name]);return c};return a?c(a):c},toData:function(a){var b=this._hAxis,d=this._vAxis,c=b.getScaler(),f=d.getScaler(),
e=c.scaler.getTransformerFromPlot(c),k=f.scaler.getTransformerFromPlot(f),l=this.chart.getCoords(),h=this.chart.offsets,m=this.chart.dim,c=function(a){var c={};c[b.name]=e(a.x-l.x-h.l);c[d.name]=k(l.y+m.height-a.y-h.b);return c};return a?c(a):c},isDirty:function(){return this.dirty||this._hAxis&&this._hAxis.dirty||this._vAxis&&this._vAxis.dirty},createLabel:function(a,b,d,c){if(this.opt.labels){var g,e=this.opt.labelFunc?this.opt.labelFunc.apply(this,[b,this.opt.fixed,this.opt.precision]):this._getLabel(isNaN(b.y)?
b:b.y);if("inside"==this.opt.labelStyle){var k=f._base._getTextBox(e,{font:c.series.font});b=d.x+d.width/2;g=d.y+d.height/2+k.h/4;if(k.w>d.width||k.h>d.height)return}else b=d.x+d.width/2,g=d.y-this.opt.labelOffset;this.renderLabel(a,b,g,e,c,"inside"==this.opt.labelStyle)}},performZoom:function(a,b){var d=this._vAxis.scale||1,f=this._hAxis.scale||1;a=a.height-b.b;var k=this._hScaler.bounds,k=(k.from-k.lower)*k.scale,l=this._vScaler.bounds,l=(l.from-l.lower)*l.scale,h=d/this.lastWindow.vscale,w=f/this.lastWindow.hscale,
n=(this.lastWindow.xoffset-k)/(1==this.lastWindow.hscale?f:this.lastWindow.hscale),A=(l-this.lastWindow.yoffset)/(1==this.lastWindow.vscale?d:this.lastWindow.vscale),E=this.getGroup();b=c.animateTransform(m.delegate({shape:E,duration:1200,transform:[{name:"translate",start:[0,0],end:[b.l*(1-w),a*(1-h)]},{name:"scale",start:[1,1],end:[w,h]},{name:"original"},{name:"translate",start:[0,0],end:[n,A]}]},this.zoom));m.mixin(this.lastWindow,{vscale:d,hscale:f,xoffset:k,yoffset:l});this.zoomQueue.push(b);
e.connect(b,"onEnd",this,function(){this.zoom=null;this.zoomQueue.shift();0<this.zoomQueue.length&&this.zoomQueue[0].play()});1==this.zoomQueue.length&&this.zoomQueue[0].play();return this},initializeScalers:function(a,d){this._hAxis?(this._hAxis.initialized()||this._hAxis.calculate(d.hmin,d.hmax,a.width),this._hScaler=this._hAxis.getScaler()):this._hScaler=b.buildScaler(d.hmin,d.hmax,a.width);this._vAxis?(this._vAxis.initialized()||this._vAxis.calculate(d.vmin,d.vmax,a.height),this._vScaler=this._vAxis.getScaler()):
this._vScaler=b.buildScaler(d.vmin,d.vmax,a.height);return this},isNullValue:function(a){if(null===a||"undefined"==typeof a)return!0;var b=this._hAxis?this._hAxis.isNullValue:d,c=this._vAxis?this._vAxis.isNullValue:d;return"number"==typeof a?b(1)||c(a):b(isNaN(a.x)?1:a.x)||null===a.y||c(a.y)}})})},"dojox/charting/plot2d/Base":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojox/gfx ../Element ./common ../axis2d/common dojo/has".split(" "),function(m,n,e,h,l,b,f,c){m=m("dojox.charting.plot2d.Base",
l,{constructor:function(a,b){b&&b.tooltipFunc&&(this.tooltipFunc=b.tooltipFunc)},clear:function(){this.series=[];this.dirty=!0;return this},setAxis:function(a){return this},assignAxes:function(a){n.forEach(this.axes,function(b){this[b]&&this.setAxis(a[this[b]])},this)},addSeries:function(a){this.series.push(a);return this},getSeriesStats:function(){return b.collectSimpleStats(this.series,e.hitch(this,"isNullValue"))},calculateAxes:function(a){this.initializeScalers(a,this.getSeriesStats());return this},
initializeScalers:function(){return this},isDataDirty:function(){return n.some(this.series,function(a){return a.dirty})},render:function(a,b){return this},renderLabel:function(a,b,c,e,l,g,p){a=f.createText[this.opt.htmlLabels&&"vml"!=h.renderer?"html":"gfx"](this.chart,a,b,c,p?p:"middle",e,l.series.font,l.series.fontColor);g&&(this.opt.htmlLabels&&"vml"!=h.renderer?a.style.pointerEvents="none":a.rawNode&&(a.rawNode.style.pointerEvents="none"));this.opt.htmlLabels&&"vml"!=h.renderer&&this.htmlElements.push(a);
return a},getRequiredColors:function(){return this.series.length},_getLabel:function(a){return b.getLabel(a,this.opt.fixed,this.opt.precision)}});c("dojo-bidi")&&m.extend({_checkOrientation:function(a,b,c){this.chart.applyMirroring(this.group,b,c)}});return m})},"dojox/charting/plot2d/common":function(){define("dojo/_base/lang dojo/_base/array dojo/_base/Color dojox/gfx dojox/lang/functional ../scaler/common".split(" "),function(m,n,e,h,l,b){var f=m.getObject("dojox.charting.plot2d.common",!0);return m.mixin(f,
{doIfLoaded:b.doIfLoaded,makeStroke:function(b){if(!b)return b;if("string"==typeof b||b instanceof e)b={color:b};return h.makeParameters(h.defaultStroke,b)},augmentColor:function(b,a){b=new e(b);a=new e(a);a.a=b.a;return a},augmentStroke:function(b,a){if(b=f.makeStroke(b))b.color=f.augmentColor(b.color,a);return b},augmentFill:function(b,a){new e(a);return"string"==typeof b||b instanceof e?f.augmentColor(b,a):b},defaultStats:{vmin:Number.POSITIVE_INFINITY,vmax:Number.NEGATIVE_INFINITY,hmin:Number.POSITIVE_INFINITY,
hmax:Number.NEGATIVE_INFINITY},collectSimpleStats:function(b,a){for(var d=m.delegate(f.defaultStats),c=0;c<b.length;++c)for(var e=b[c],l=0;l<e.data.length;l++)if(!a(e.data[l])){if("number"==typeof e.data[l]){var l=d.vmin,g=d.vmax;n.forEach(e.data,function(b,c){a(b)||(c+=1,isNaN(b)&&(b=0),d.hmin=Math.min(d.hmin,c),d.hmax=Math.max(d.hmax,c),d.vmin=Math.min(d.vmin,b),d.vmax=Math.max(d.vmax,b))})}else{var p=d.hmin,h=d.hmax,l=d.vmin,g=d.vmax;"xmin"in e&&"xmax"in e&&"ymin"in e&&"ymax"in e||n.forEach(e.data,
function(b,c){a(b)||(c="x"in b?b.x:c+1,b=b.y,isNaN(c)&&(c=0),isNaN(b)&&(b=0),d.hmin=Math.min(d.hmin,c),d.hmax=Math.max(d.hmax,c),d.vmin=Math.min(d.vmin,b),d.vmax=Math.max(d.vmax,b))});"xmin"in e&&(d.hmin=Math.min(p,e.xmin));"xmax"in e&&(d.hmax=Math.max(h,e.xmax))}"ymin"in e&&(d.vmin=Math.min(l,e.ymin));"ymax"in e&&(d.vmax=Math.max(g,e.ymax));break}return d},calculateBarSize:function(b,a,d){d||(d=1);var c=(b-2*a.gap)/d;"minBarSize"in a&&(c=Math.max(c,a.minBarSize));"maxBarSize"in a&&(c=Math.min(c,
a.maxBarSize));c=Math.max(c,1);return{size:c,gap:(b-c*d)/2}},collectStackedStats:function(b){var a=m.clone(f.defaultStats);if(b.length){a.hmin=Math.min(a.hmin,1);a.hmax=l.foldl(b,"seed, run -\x3e Math.max(seed, run.data.length)",a.hmax);for(var d=0;d<a.hmax;++d){var c=b[0].data[d],c=c&&("number"==typeof c?c:c.y);isNaN(c)&&(c=0);a.vmin=Math.min(a.vmin,c);for(var e=1;e<b.length;++e){var h=b[e].data[d],h=h&&("number"==typeof h?h:h.y);isNaN(h)&&(h=0);c+=h}a.vmax=Math.max(a.vmax,c)}}return a},curve:function(b,
a){var d=b.slice(0);"x"==a&&(d[d.length]=d[0]);return n.map(d,function(b,c){if(0==c)return"M"+b.x+","+b.y;if(!isNaN(a)){var f=b.x-d[c-1].x;return"C"+(b.x-f/a*(a-1))+","+d[c-1].y+" "+(b.x-f/a)+","+b.y+" "+b.x+","+b.y}if("X"==a||"x"==a||"S"==a){var g;b=d[c-1];var f=d[c],e,l,k;e=1/6;1==c?(g="x"==a?d[d.length-2]:b,e=1/3):g=d[c-2];c==d.length-1?(c="x"==a?d[1]:f,e=1/3):c=d[c+1];var h=Math.sqrt((f.x-b.x)*(f.x-b.x)+(f.y-b.y)*(f.y-b.y));l=Math.sqrt((f.x-g.x)*(f.x-g.x)+(f.y-g.y)*(f.y-g.y));k=Math.sqrt((c.x-
b.x)*(c.x-b.x)+(c.y-b.y)*(c.y-b.y));var m=l*e,n=k*e;m>h/2&&n>h/2?(m=h/2,n=h/2):m>h/2?(m=h/2,n=h/2*k/l):n>h/2&&(n=h/2,m=h/2*l/k);"S"==a&&(g==b&&(m=0),f==c&&(n=0));e=b.x+m*(f.x-g.x)/l;g=b.y+m*(f.y-g.y)/l;l=f.x-n*(c.x-b.x)/k;k=f.y-n*(c.y-b.y)/k}return"C"+(e+","+g+" "+l+","+k+" "+f.x+","+f.y)}).join(" ")},getLabel:function(c,a,d){return b.doIfLoaded("dojo/number",function(b){return(a?b.format(c,{places:d}):b.format(c))||""},function(){return a?c.toFixed(d):c.toString()})}})})},"dojox/charting/scaler/common":function(){define(["dojo/_base/lang"],
function(m){var n=function(e,b){return Math.abs(e-b)<=1E-6*(Math.abs(e)+Math.abs(b))},e=m.getObject("dojox.charting.scaler.common",!0),h={};return m.mixin(e,{doIfLoaded:function(e,b,f){if(void 0===h[e])try{h[e]=require(e)}catch(c){h[e]=null}return h[e]?b(h[e]):f()},getNumericLabel:function(l,b,f){var c="";e.doIfLoaded("dojo/number",function(a){c=(f.fixed?a.format(l,{places:0>b?-b:0}):a.format(l))||""},function(){c=f.fixed?l.toFixed(0>b?-b:0):l.toString()});if(f.labelFunc){var a=f.labelFunc(c,l,b);
if(a)return a}if(f.labels){for(var a=f.labels,d=0,k=a.length;d<k;){var h=Math.floor((d+k)/2);a[h].value<l?d=h+1:k=h}if(d<a.length&&n(a[d].value,l))return a[d].text;--d;if(0<=d&&d<a.length&&n(a[d].value,l))return a[d].text;d+=2;if(d<a.length&&n(a[d].value,l))return a[d].text}return c}})})},"dojox/charting/scaler/primitive":function(){define(["dojo/_base/lang"],function(m){var n=m.getObject("dojox.charting.scaler.primitive",!0);return m.mixin(n,{buildScaler:function(e,h,l,b){e==h&&(e-=.5,h+=.5);return{bounds:{lower:e,
upper:h,from:e,to:h,scale:l/(h-e),span:l},scaler:n}},buildTicks:function(e,h){return{major:[],minor:[],micro:[]}},getTransformerFromModel:function(e){var h=e.bounds.from,l=e.bounds.scale;return function(b){return(b-h)*l}},getTransformerFromPlot:function(e){var h=e.bounds.from,l=e.bounds.scale;return function(b){return b/l+h}}})})},"dojox/gfx/fx":function(){define("dojo/_base/lang ./_base ./matrix dojo/_base/Color dojo/_base/array dojo/_base/fx dojo/_base/connect dojo/sniff".split(" "),function(m,
n,e,h,l,b,f,c){function a(a,b){this.start=a;this.end=b}function d(a,b,c){this.start=a;this.end=b;this.units=c}function k(a,b){this.start=a;this.end=b;this.temp=new h}function u(a){this.values=a;this.length=a.length}function q(a,b){this.values=a;this.def=b?b:{}}function g(a,b){this.stack=a;this.original=b}function p(a,b,c,d){if(a.values)return new u(a.values);var f,e;e=a.start?n.normalizeColor(a.start):f=b?c?b[c]:b:d;a.end?a=n.normalizeColor(a.end):(f||(f=b?c?b[c]:b:d),a=f);return new k(e,a)}var x=
n.fx={};a.prototype.getValue=function(a){return(this.end-this.start)*a+this.start};d.prototype.getValue=function(a){return(this.end-this.start)*a+this.start+this.units};k.prototype.getValue=function(a){return h.blendColors(this.start,this.end,a,this.temp)};u.prototype.getValue=function(a){return this.values[Math.min(Math.floor(a*this.length),this.length-1)]};q.prototype.getValue=function(a){var b=m.clone(this.def),c;for(c in this.values)b[c]=this.values[c].getValue(a);return b};g.prototype.getValue=
function(a){var b=[];l.forEach(this.stack,function(c){if(c instanceof e.Matrix2D)b.push(c);else if("original"==c.name&&this.original)b.push(this.original);else if("matrix"==c.name){if(c.start instanceof e.Matrix2D&&c.end instanceof e.Matrix2D){var d=new e.Matrix2D,f;for(f in c.start)d[f]=(c.end[f]-c.start[f])*a+c.start[f];b.push(d)}}else c.name in e&&(d=e[c.name],"function"!=typeof d?b.push(d):(f=l.map(c.start,function(b,d){return(c.end[d]-b)*a+b}),d=d.apply(e,f),d instanceof e.Matrix2D&&b.push(d)))},
this);return b};var P=new h(0,0,0,0);x.animateStroke=function(c){c.easing||(c.easing=b._defaultEasing);var d=new b.Animation(c),e=c.shape,g;f.connect(d,"beforeBegin",d,function(){g=e.getStroke();var b=c.color,d={},f;b&&(d.color=p(b,g,"color",P));(b=c.style)&&b.values&&(d.style=new u(b.values));if(b=c.width){var l=b,k=g;l.values?f=new u(l.values):(b=l.start?l.start:f=k?k.width:1,l.end?f=l.end:"number"!=typeof f&&(f=k?k.width:1),f=new a(b,f));d.width=f}(b=c.cap)&&b.values&&(d.cap=new u(b.values));if(b=
c.join)b.values?d.join=new u(b.values):(f=b.start?b.start:g&&g.join||0,b=b.end?b.end:g&&g.join||0,"number"==typeof f&&"number"==typeof b&&(d.join=new a(f,b)));this.curve=new q(d,g)});f.connect(d,"onAnimate",e,"setStroke");return d};x.animateFill=function(a){a.easing||(a.easing=b._defaultEasing);var c=new b.Animation(a),d=a.shape,e;f.connect(c,"beforeBegin",c,function(){e=d.getFill();var b=a.color;b&&(this.curve=p(b,e,"",P))});f.connect(c,"onAnimate",d,"setFill");return c};x.animateFont=function(a){a.easing||
(a.easing=b._defaultEasing);var c=new b.Animation(a),e=a.shape,g;f.connect(c,"beforeBegin",c,function(){g=e.getFont();var b=a.style,c={},f,l;b&&b.values&&(c.style=new u(b.values));(b=a.variant)&&b.values&&(c.variant=new u(b.values));(b=a.weight)&&b.values&&(c.weight=new u(b.values));(b=a.family)&&b.values&&(c.family=new u(b.values));(b=a.size)&&b.units&&(f=parseFloat(b.start?b.start:e.font&&e.font.size||"0"),l=parseFloat(b.end?b.end:e.font&&e.font.size||"0"),c.size=new d(f,l,b.units));this.curve=
new q(c,g)});f.connect(c,"onAnimate",e,"setFont");return c};x.animateTransform=function(a){a.easing||(a.easing=b._defaultEasing);var d=new b.Animation(a),e=a.shape,k;f.connect(d,"beforeBegin",d,function(){k=e.getTransform();this.curve=new g(a.transform,k)});f.connect(d,"onAnimate",e,"setTransform");if("svg"===n.renderer&&(9<=c("ie")||c("ff")))var p=[f.connect(d,"onBegin",d,function(){for(var a=e.getParent();a&&a.getParent;)a=a.getParent();a&&(e.__svgContainer=a.rawNode.parentNode,e.__svgRoot=a.rawNode,
e.__svgRoot&&e.__svgRoot.getAttribute&&(e.__svgWidth=parseInt(e.__svgRoot.getAttribute("width"),10),isNaN(e.__svgWidth)&&delete e.__svgWidth))}),f.connect(d,"onAnimate",d,function(){try{if(e.__svgContainer){var a=e.__svgContainer.style.visibility;e.__svgContainer.style.visibility="visible";e.__svgContainer.style.visibility=a;var b=e.__svgWidth;if(!isNaN(b))try{e.__svgRoot.setAttribute("width",b-5E-6),e.__svgRoot.setAttribute("width",b)}catch(I){}}}catch(I){}}),f.connect(d,"onEnd",d,function(){l.forEach(p,
f.disconnect);if(e.__svgContainer){var a=e.__svgContainer;if(null==a.getAttribute("__gotVis")){a.setAttribute("__gotVis",!0);var b=e.__svgContainer.style.visibility,c=e.__svgRoot,d=e.__svgWidth;a.style.visibility="visible";setTimeout(function(){try{a.style.visibility=b;a.removeAttribute("__gotVis");a=null;try{isNaN(d)||(c.setAttribute("width",d-5E-6),c.setAttribute("width",d))}catch(z){}}catch(z){}},100)}}delete e.__svgContainer;delete e.__svgRoot;delete e.__svgWidth})];return d};return x})},"dojox/charting/plot2d/_PlotEvents":function(){define(["dojo/_base/lang",
"dojo/_base/array","dojo/_base/declare","dojo/_base/connect"],function(m,n,e,h){return e("dojox.charting.plot2d._PlotEvents",null,{constructor:function(){this._shapeEvents=[];this._eventSeries={}},destroy:function(){this.resetEvents();this.inherited(arguments)},plotEvent:function(e){},raiseEvent:function(e){this.plotEvent(e);var b=m.delegate(e);b.originalEvent=e.type;b.originalPlot=e.plot;b.type="onindirect";n.forEach(this.chart.stack,function(f){f!==this&&f.plotEvent&&(b.plot=f,f.plotEvent(b))},
this)},connect:function(e,b){this.dirty=!0;return h.connect(this,"plotEvent",e,b)},events:function(){return!!this.plotEvent.after},resetEvents:function(){this._shapeEvents.length&&(n.forEach(this._shapeEvents,function(e){e.shape.disconnect(e.handle)}),this._shapeEvents=[]);this.raiseEvent({type:"onplotreset",plot:this})},_connectSingleEvent:function(e,b){this._shapeEvents.push({shape:e.eventMask,handle:e.eventMask.connect(b,this,function(f){e.type=b;e.event=f;this.raiseEvent(e);e.event=null})})},
_connectEvents:function(e){e&&(e.chart=this.chart,e.plot=this,e.hAxis=this.hAxis||null,e.vAxis=this.vAxis||null,e.eventMask=e.eventMask||e.shape,this._connectSingleEvent(e,"onmouseover"),this._connectSingleEvent(e,"onmouseout"),this._connectSingleEvent(e,"onclick"))},_reconnectEvents:function(e){(e=this._eventSeries[e])&&n.forEach(e,this._connectEvents,this)},fireEvent:function(e,b,f,c){(e=this._eventSeries[e])&&e.length&&f<e.length&&(f=e[f],f.type=b,f.event=c||null,this.raiseEvent(f),f.event=null)}})})},
"dojox/charting/plot2d/Pie":function(){define("dojo/_base/lang dojo/_base/array dojo/_base/declare dojo/dom-geometry dojo/_base/Color ./Base ./_PlotEvents ./common dojox/gfx dojox/gfx/matrix dojox/lang/functional dojox/lang/utils dojo/has".split(" "),function(m,n,e,h,l,b,f,c,a,d,k,u,q){return e("dojox.charting.plot2d.Pie",[b,f],{defaultParams:{labels:!0,ticks:!1,fixed:!0,precision:1,labelOffset:20,labelStyle:"default",htmlLabels:!0,radGrad:"native",fanSize:5,startAngle:0,innerRadius:0,minWidth:0,
zeroDataMessage:""},optionalParams:{radius:0,omitLabels:!1,stroke:{},outline:{},shadow:{},fill:{},filter:{},styleFunc:null,font:"",fontColor:"",labelWiring:{}},constructor:function(a,b){this.opt=m.clone(this.defaultParams);u.updateWithObject(this.opt,b);u.updateWithPattern(this.opt,b,this.optionalParams);this.axes=[];this.run=null;this.dyn=[];this.runFilter=[];b&&b.hasOwnProperty("innerRadius")&&(this._plotSetInnerRadius=!0)},clear:function(){this.inherited(arguments);this.dyn=[];this.run=null;return this},
setAxis:function(a){return this},addSeries:function(a){this.run=a;return this},getSeriesStats:function(){return m.delegate(c.defaultStats)},getRequiredColors:function(){return this.run?this.run.data.length:0},render:function(b,c){if(!this.dirty)return this;this.resetEvents();this.dirty=!1;this._eventSeries={};this.cleanGroup();var f=this.group,e=this.chart.theme;!this._plotSetInnerRadius&&e&&e.pieInnerRadius&&(this.opt.innerRadius=e.pieInnerRadius);var g=(b.width-c.l-c.r)/2,p=(b.height-c.t-c.b)/2,
A=Math.min(g,p),E="font"in this.opt?this.opt.font:e.axis.tick.titleFont||"",u=E?a.normalizedLength(a.splitFontString(E).size):0,Q=this.opt.hasOwnProperty("fontColor")?this.opt.fontColor:e.axis.tick.fontColor,B=d._degToRad(this.opt.startAngle),I=B,y,z,t,N,O=this.run.data,F=this.events(),T=m.hitch(this,function(){var a=e.clone(),d=k.map(O,function(b){var c=[this.opt,this.run];null!==b&&"number"!=typeof b&&c.push(b);this.opt.styleFunc&&c.push(this.opt.styleFunc(b));return a.next("slice",c,!0)},this);
"radius"in this.opt&&(A=this.opt.radius<A?this.opt.radius:A);var h={cx:c.l+g,cy:c.t+p,r:A},m=new l(Q);this.opt.innerRadius&&(m.a=.1);var x=this._createRing(f,h).setStroke(m);this.opt.innerRadius&&x.setFill(m);this.opt.zeroDataMessage&&this.renderLabel(f,h.cx,h.cy+u/3,this.opt.zeroDataMessage,{series:{font:E,fontColor:Q}},null,"middle");this.dyn=[];n.forEach(O,function(a,f){this.dyn.push({fill:this._plotFill(d[f].series.fill,b,c),stroke:d[f].series.stroke})},this)});if(!this.run&&!this.run.data.ength)return T(),
this;if("number"==typeof O[0]){y=k.map(O,"x ? Math.max(x, 0) : 0");if(k.every(y,"\x3c\x3d 0"))return T(),this;z=k.map(y,"/this",k.foldl(y,"+",0));this.opt.labels&&(t=n.map(z,function(a){return 0<a?this._getLabel(100*a)+"%":""},this))}else{y=k.map(O,"x ? Math.max(x.y, 0) : 0");if(!y.length||k.every(y,"\x3c\x3d 0"))return T(),this;z=k.map(y,"/this",k.foldl(y,"+",0));this.opt.labels&&(t=n.map(z,function(a,b){if(0>a)return"";b=O[b];return b.hasOwnProperty("text")?b.text:this._getLabel(100*a)+"%"},this))}var G=
k.map(O,function(a){var b=[this.opt,this.run];null!==a&&"number"!=typeof a&&b.push(a);this.opt.styleFunc&&b.push(this.opt.styleFunc(a));return e.next("slice",b,!0)},this);this.opt.labels&&(y=k.foldl1(k.map(t,function(b,c){return a._base._getTextBox(b,{font:G[c].series.font}).w},this),"Math.max(a, b)")/2,0>this.opt.labelOffset&&(A=Math.min(g-2*y,p-u)+this.opt.labelOffset));this.opt.hasOwnProperty("radius")&&(A=this.opt.radius<.9*A?this.opt.radius:.9*A);!this.opt.radius&&this.opt.labels&&"columns"==
this.opt.labelStyle?(A/=2,g>p&&g>2*A&&(A*=g/(2*A)),A>=.8*p&&(A=.8*p)):A>=.9*p&&(A=.9*p);N=A-this.opt.labelOffset;var r={cx:c.l+g,cy:c.t+p,r:A};this.dyn=[];var K=Array(z.length),D=[],v=I,L=this.opt.minWidth;n.forEach(z,function(a,b){if(0===a)D[b]={step:0,end:v,start:v,weak:!1};else{a=v+2*a*Math.PI;b===z.length-1&&(a=B+2*Math.PI);var c=a-v;D[b]={step:c,start:v,end:a,weak:c*A<L};v=a}});if(0<L){y=0;var H=L/A,T=0,C;for(C=D.length-1;0<=C;C--)D[C].weak&&(++y,T+=D[C].step,D[C].step=H);H*=y;if(H>Math.PI){H=
Math.PI/y;for(C=0;C<D.length;++C)D[C].weak&&(D[C].step=H);H=Math.PI}if(0<y)for(H=1-(H-T)/2/Math.PI,C=0;C<D.length;++C)D[C].weak||(D[C].step*=H);for(C=0;C<D.length;++C)D[C].start=C?D[C].end:v,D[C].end=D[C].start+D[C].step;for(C=D.length-1;0<=C;--C)if(0!==D[C].step){D[C].end=v+2*Math.PI;break}}var v=I,R,J;n.some(z,function(e,g){var k,p=O[g],l=G[g];if(1<=e){J=this._plotFill(l.series.fill,b,c);J=this._shapeFill(J,{x:r.cx-r.r,y:r.cy-r.r,width:2*r.r,height:2*r.r});J=this._pseudoRadialFill(J,{x:r.cx,y:r.cy},
r.r);k=this._createRing(f,r).setFill(J).setStroke(l.series.stroke);this.dyn.push({fill:J,stroke:l.series.stroke});F&&(R={element:"slice",index:g,run:this.run,shape:k,x:g,y:"number"==typeof p?p:p.y,cx:r.cx,cy:r.cy,cr:A},this._connectEvents(R),K[g]=R);for(g+=1;g<z.length;g++)l=G[g],this.dyn.push({fill:l.series.fill,stroke:l.series.stroke});return!0}if(0===D[g].step)return this.dyn.push({fill:l.series.fill,stroke:l.series.stroke}),!1;e=D[g].step;k=r.cx+A*Math.cos(v);var x=r.cy+A*Math.sin(v),n=r.cx+A*
Math.cos(v+e),w=r.cy+A*Math.sin(v+e),E=d._degToRad(this.opt.fanSize);if(l.series.fill&&"radial"===l.series.fill.type&&"fan"===this.opt.radGrad&&e>E){var P=f.createGroup(),E=Math.ceil(e/E),q=e/E;J=this._shapeFill(l.series.fill,{x:r.cx-r.r,y:r.cy-r.r,width:2*r.r,height:2*r.r});var H,u,L,S,B,t;for(H=0;H<E;++H)u=v+(H-.2)*q,L=v+(H+1+.2)*q,S=0==H?k:r.cx+A*Math.cos(u),B=0==H?x:r.cy+A*Math.sin(u),t=H==E-1?n:r.cx+A*Math.cos(L),L=H==E-1?w:r.cy+A*Math.sin(L),this._createSlice(P,r,A,S,B,t,L,u,q).setFill(this._pseudoRadialFill(J,
{x:r.cx,y:r.cy},A,v+(H+.5)*q,v+(H+.5)*q));E=l.series.stroke;this._createSlice(P,r,A,k,x,n,w,v,e).setStroke(E);k=P}else{E=l.series.stroke;k=this._createSlice(f,r,A,k,x,n,w,v,e).setStroke(E);if((J=l.series.fill)&&"radial"===J.type)J=this._shapeFill(J,{x:r.cx-r.r,y:r.cy-r.r,width:2*r.r,height:2*r.r}),"linear"===this.opt.radGrad&&(J=this._pseudoRadialFill(J,{x:r.cx,y:r.cy},A,v,v+e));else if(J&&"linear"===J.type){x=m.clone(k.getBoundingBox());if("svg"===a.renderer){n={w:0,h:0};try{n=h.position(k.rawNode)}catch(ja){}n.h>
x.height&&(x.height=n.h);n.w>x.width&&(x.width=n.w)}J=this._plotFill(J,b,c);J=this._shapeFill(J,x)}k.setFill(J)}this.dyn.push({fill:J,stroke:l.series.stroke});F&&(R={element:"slice",index:g,run:this.run,shape:k,x:g,y:"number"==typeof p?p:p.y,cx:r.cx,cy:r.cy,cr:A},this._connectEvents(R),K[g]=R);v+=e;return!1},this);if(this.opt.labels){var V=q("dojo-bidi")&&this.chart.isRightToLeft();if("default"==this.opt.labelStyle)v=I=B,n.some(z,function(a,c){if(0>=a&&!this.opt.minWidth)return!1;var d=G[c];if(1<=
a)return this.renderLabel(f,r.cx,r.cy+u/2,t[c],d,0<this.opt.labelOffset),!0;a=I+2*a*Math.PI;c+1==z.length&&(a=B+2*Math.PI);if(this.opt.omitLabels&&.001>a-I)return!1;var e=v+D[c].step/2,g=r.cx+N*Math.cos(e);this.renderLabel(f,V?b.width-g:g,r.cy+N*Math.sin(e)+u/2,t[c],d,0<this.opt.labelOffset);v+=D[c].step;I=a;return!1},this);else if("columns"==this.opt.labelStyle){var W=this.opt.omitLabels,v=I=B,ca=[],ea=0;for(y=z.length-1;0<=y;--y)z[y]&&++ea;n.forEach(z,function(a,b){a=I+2*a*Math.PI;b+1==z.length&&
(a=B+2*Math.PI);if(0!==this.minWidth||.001<=a-I){var c=v+D[b].step/2;1!==ea||this.opt.minWidth||(c=(I+a)/2);ca.push({angle:c,left:0>Math.cos(c),theme:G[b],index:b,omit:W?.001>a-I:!1})}I=a;v+=D[b].step},this);var M=a._base._getTextBox("a",{font:E,whiteSpace:"nowrap"}).h;this._getProperLabelRadius(ca,M,1.1*r.r);var aa=r.cx-2*r.r,da=r.cx+2*r.r;n.forEach(ca,function(b){if(!b.omit){var c=G[b.index],d=0;c&&c.axis&&c.axis.tick&&c.axis.tick.labelGap&&(d=c.axis.tick.labelGap);var e=a._base._getTextBox(t[b.index],
{font:c.series.font,whiteSpace:"nowrap",paddingLeft:d+"px"}).w,g=r.cx+b.labelR*Math.cos(b.angle),k=r.cy+b.labelR*Math.sin(b.angle),p=b.left?aa+e:da-e,d=b.left?aa:p+d,l=r.r,l=f.createPath().moveTo(r.cx+l*Math.cos(b.angle),r.cy+l*Math.sin(b.angle));Math.abs(b.labelR*Math.cos(b.angle))<2*r.r-e&&l.lineTo(g,k);l.lineTo(p,k).setStroke(b.theme.series.labelWiring);l.moveToBack();g=this.renderLabel(f,d,M/3+k||0,t[b.index],c,!1,"left");F&&!this.opt.htmlLabels&&(c=a._base._getTextBox(t[b.index],{font:b.theme.series.font}).w||
0,e=a.normalizedLength(a.splitFontString(b.theme.series.font).size),R={element:"labels",index:b.index,run:this.run,shape:g,x:d,y:k,label:t[b.index]},d=g.getShape(),k=h.position(this.chart.node,!0),d=m.mixin({type:"rect"},{x:d.x,y:d.y-2*e}),d.x+=k.x,d.y+=k.y,d.x=Math.round(d.x),d.y=Math.round(d.y),d.width=Math.ceil(c),d.height=Math.ceil(e),R.aroundRect=d,this._connectEvents(R),K[z.length+b.index]=R)}},this)}}var ba=0;this._eventSeries[this.run.name]=k.map(O,function(a){return 0>=a?null:K[ba++]});q("dojo-bidi")&&
this._checkOrientation(this.group,b,c);return this},_getProperLabelRadius:function(a,b,c){if(1==a.length)a[0].labelR=c;else{var d={},f={},e=2,g=2,k,p;for(k=0;k<a.length;++k)p=Math.abs(Math.sin(a[k].angle)),a[k].left?e>p&&(e=p,d=a[k]):g>p&&(g=p,f=a[k]);d.labelR=f.labelR=c;this._caculateLabelR(d,a,b);this._caculateLabelR(f,a,b)}},_caculateLabelR:function(a,b,c){var d,f,e=b.length,g=a.labelR,k=b[a.index].left?-c:c;f=0;c=a.index;for(d=(c+1)%e;f<e&&b[c].left===b[d].left;++f)g=(Math.sin(b[c].angle)*g+k)/
Math.sin(b[d].angle),g=Math.max(a.labelR,g),b[d].labelR=g,c=(c+1)%e,d=(d+1)%e;f>=e&&(b[0].labelR=a.labelR);f=0;c=a.index;for(d=(c||e)-1;f<e&&b[c].left===b[d].left;++f)g=(Math.sin(b[c].angle)*g-k)/Math.sin(b[d].angle),g=Math.max(a.labelR,g),b[d].labelR=g,c=(c||e)-1,d=(d||e)-1},_createRing:function(a,b){var c=this.opt.innerRadius;0<c?c=c/100*b.r:0>c&&(c=-c);return c?a.createPath({}).setAbsoluteMode(!0).moveTo(b.cx,b.cy-b.r).arcTo(b.r,b.r,0,!1,!0,b.cx+b.r,b.cy).arcTo(b.r,b.r,0,!0,!0,b.cx,b.cy-b.r).closePath().moveTo(b.cx,
b.cy-c).arcTo(c,c,0,!1,!0,b.cx+c,b.cy).arcTo(c,c,0,!0,!0,b.cx,b.cy-c).closePath():a.createCircle(b)},_createSlice:function(a,b,c,d,f,e,k,l,h){var g=this.opt.innerRadius;0<g?g=g/100*b.r:0>g&&(g=-g);if(g){var p=b.cx+g*Math.cos(l),m=b.cy+g*Math.sin(l),n=b.cx+g*Math.cos(l+h);b=b.cy+g*Math.sin(l+h);return a.createPath({}).setAbsoluteMode(!0).moveTo(p,m).lineTo(d,f).arcTo(c,c,0,h>Math.PI,!0,e,k).lineTo(n,b).arcTo(g,g,0,h>Math.PI,!1,p,m).closePath()}return a.createPath({}).setAbsoluteMode(!0).moveTo(b.cx,
b.cy).lineTo(d,f).arcTo(c,c,0,h>Math.PI,!0,e,k).lineTo(b.cx,b.cy).closePath()}})})},"dojox/charting/action2d/Tooltip":function(){define("dijit/Tooltip dojo/_base/lang dojo/_base/declare dojo/_base/window dojo/_base/connect dojo/dom-style ./PlotAction dojox/gfx/matrix dojo/has dojo/has!dojo-bidi?../bidi/action2d/Tooltip dojox/lang/functional dojox/lang/functional/scan dojox/lang/functional/fold".split(" "),function(m,n,e,h,l,b,f,c,a,d,k){var u=function(a,b){var c=a.run&&a.run.data&&a.run.data[a.index];
return c&&"number"!=typeof c&&(c.tooltip||c.text)?c.tooltip||c.text:b.tooltipFunc?b.tooltipFunc(a):a.y},q=Math.PI/4,g=Math.PI/2;b=e(a("dojo-bidi")?"dojox.charting.action2d.NonBidiTooltip":"dojox.charting.action2d.Tooltip",f,{defaultParams:{text:u,mouseOver:!0,defaultPosition:["after-centered","before-centered"]},optionalParams:{},constructor:function(a,b,c){this.text=c&&c.text?c.text:u;this.mouseOver=c&&void 0!=c.mouseOver?c.mouseOver:!0;this.defaultPosition=c&&void 0!=c.defaultPosition?c.defaultPosition:
["after-centered","before-centered"];this.connect()},process:function(b){if("onplotreset"===b.type||"onmouseout"===b.type)m.hide(this.aroundRect),this.aroundRect=null,"onplotreset"===b.type&&delete this.angles;else if(!(!b.shape||this.mouseOver&&"onmouseover"!==b.type||!this.mouseOver&&"onclick"!==b.type)){var d={type:"rect"},f=this.defaultPosition;switch(b.element){case "marker":d.x=b.cx;d.y=b.cy;d.w=d.h=1;break;case "circle":d.x=b.cx-b.cr;d.y=b.cy-b.cr;d.w=d.h=2*b.cr;break;case "spider_circle":d.x=
b.cx;d.y=b.cy;d.w=d.h=1;break;case "spider_plot":return;case "column":f=["above-centered","below-centered"];case "bar":d=n.clone(b.shape.getShape());d.w=d.width;d.h=d.height;break;case "candlestick":d.x=b.x;d.y=b.y;d.w=b.width;d.h=b.height;break;default:if(!this.angles){var e="number"==typeof b.run.data[0]?k.map(b.run.data,"x ? Math.max(x, 0) : 0"):k.map(b.run.data,"x ? Math.max(x.y, 0) : 0");this.angles=k.map(k.scanl(e,"+",0),"* 2 * Math.PI / this",k.foldl(e,"+",0))}var e=c._degToRad(b.plot.opt.startAngle),
p=(this.angles[b.index]+this.angles[b.index+1])/2+e;d.x=b.cx+b.cr*Math.cos(p);d.y=b.cy+b.cr*Math.sin(p);d.w=d.h=1;e&&(0>p||p>2*Math.PI)&&(p=Math.abs(2*Math.PI-Math.abs(p)));p<q||(p<g+q?f=["below-centered","above-centered"]:p<Math.PI+q?f=["before-centered","after-centered"]:p<2*Math.PI-q&&(f=["above-centered","below-centered"]))}a("dojo-bidi")&&this._recheckPosition(b,d,f);e=this.chart.getCoords();d.x+=e.x;d.y+=e.y;d.x=Math.round(d.x);d.y=Math.round(d.y);d.w=Math.ceil(d.w);d.h=Math.ceil(d.h);this.aroundRect=
d;(b=this.text(b,this.plot))&&m.show(this._format(b),this.aroundRect,f);this.mouseOver||(this._handle=l.connect(h.doc,"onclick",this,"onClick"))}},onClick:function(){this.process({type:"onmouseout"})},_recheckPosition:function(a,b,c){},_format:function(a){return a}});return a("dojo-bidi")?e("dojox.charting.action2d.Tooltip",[b,d]):b})},"dojox/charting/action2d/PlotAction":function(){define(["dojo/_base/connect","dojo/_base/declare","./Base","dojo/fx/easing","dojox/lang/functional"],function(m,n,e,
h,l){var b=h.backOut;return n("dojox.charting.action2d.PlotAction",e,{overOutEvents:{onmouseover:1,onmouseout:1},constructor:function(f,c,a){this.anim={};a||(a={});this.duration=a.duration?a.duration:400;this.easing=a.easing?a.easing:b},connect:function(){this.handle=this.chart.connectToPlot(this.plot.name,this,"process")},disconnect:function(){this.handle&&(m.disconnect(this.handle),this.handle=null)},reset:function(){},destroy:function(){this.inherited(arguments);l.forIn(this.anim,function(b){l.forIn(b,
function(b){b.action.stop(!0)})});this.anim={}}})})},"dojox/charting/action2d/Base":function(){define(["dojo/_base/lang","dojo/_base/declare","dojo/Evented"],function(m,n,e){return n("dojox.charting.action2d.Base",e,{constructor:function(e,l){this.chart=e;this.plot=l?m.isString(l)?this.chart.getPlot(l):l:this.chart.getPlot("default")},connect:function(){},disconnect:function(){},destroy:function(){this.disconnect()}})})},"dojo/fx/easing":function(){define(["../_base/lang"],function(m){var n={linear:function(e){return e},
quadIn:function(e){return Math.pow(e,2)},quadOut:function(e){return e*(e-2)*-1},quadInOut:function(e){e*=2;return 1>e?Math.pow(e,2)/2:-1*(--e*(e-2)-1)/2},cubicIn:function(e){return Math.pow(e,3)},cubicOut:function(e){return Math.pow(e-1,3)+1},cubicInOut:function(e){e*=2;return 1>e?Math.pow(e,3)/2:(Math.pow(e-2,3)+2)/2},quartIn:function(e){return Math.pow(e,4)},quartOut:function(e){return-1*(Math.pow(e-1,4)-1)},quartInOut:function(e){e*=2;return 1>e?Math.pow(e,4)/2:-.5*(Math.pow(e-2,4)-2)},quintIn:function(e){return Math.pow(e,
5)},quintOut:function(e){return Math.pow(e-1,5)+1},quintInOut:function(e){e*=2;return 1>e?Math.pow(e,5)/2:(Math.pow(e-2,5)+2)/2},sineIn:function(e){return-1*Math.cos(Math.PI/2*e)+1},sineOut:function(e){return Math.sin(Math.PI/2*e)},sineInOut:function(e){return-1*(Math.cos(Math.PI*e)-1)/2},expoIn:function(e){return 0==e?0:Math.pow(2,10*(e-1))},expoOut:function(e){return 1==e?1:-1*Math.pow(2,-10*e)+1},expoInOut:function(e){if(0==e)return 0;if(1==e)return 1;e*=2;if(1>e)return Math.pow(2,10*(e-1))/2;
--e;return(-1*Math.pow(2,-10*e)+2)/2},circIn:function(e){return-1*(Math.sqrt(1-Math.pow(e,2))-1)},circOut:function(e){return Math.sqrt(1-Math.pow(e-1,2))},circInOut:function(e){e*=2;return 1>e?-.5*(Math.sqrt(1-Math.pow(e,2))-1):.5*(Math.sqrt(1-Math.pow(e-2,2))+1)},backIn:function(e){return Math.pow(e,2)*(2.70158*e-1.70158)},backOut:function(e){--e;return Math.pow(e,2)*(2.70158*e+1.70158)+1},backInOut:function(e){e*=2;if(1>e)return Math.pow(e,2)*(3.5949095*e-2.5949095)/2;e-=2;return(Math.pow(e,2)*
(3.5949095*e+2.5949095)+2)/2},elasticIn:function(e){if(0==e||1==e)return e;--e;return-1*Math.pow(2,10*e)*Math.sin(2*(e-.075)*Math.PI/.3)},elasticOut:function(e){return 0==e||1==e?e:Math.pow(2,-10*e)*Math.sin(2*(e-.075)*Math.PI/.3)+1},elasticInOut:function(e){if(0==e)return 0;e*=2;if(2==e)return 1;var h=.3*1.5,l=h/4;if(1>e)return--e,-.5*Math.pow(2,10*e)*Math.sin(2*(e-l)*Math.PI/h);--e;return.5*Math.pow(2,-10*e)*Math.sin(2*(e-l)*Math.PI/h)+1},bounceIn:function(e){return 1-n.bounceOut(1-e)},bounceOut:function(e){return e<
1/2.75?7.5625*Math.pow(e,2):e<2/2.75?7.5625*Math.pow(e-1.5/2.75,2)+.75:e<2.5/2.75?7.5625*Math.pow(e-2.25/2.75,2)+.9375:7.5625*Math.pow(e-2.625/2.75,2)+.984375},bounceInOut:function(e){return.5>e?n.bounceIn(2*e)/2:n.bounceOut(2*e-1)/2+.5}};m.setObject("dojo.fx.easing",n);return n})},"dojox/lang/functional/scan":function(){define(["dojo/_base/kernel","dojo/_base/lang","./lambda"],function(m,n,e){var h={};n.mixin(e,{scanl:function(l,b,f,c){"string"==typeof l&&(l=l.split(""));c=c||m.global;b=e.lambda(b);
var a,d,k;if(n.isArray(l))for(a=Array((d=l.length)+1),a[0]=f,k=0;k<d;f=b.call(c,f,l[k],k,l),a[++k]=f);else if("function"==typeof l.hasNext&&"function"==typeof l.next)for(a=[f],k=0;l.hasNext();a.push(f=b.call(c,f,l.next(),k++,l)));else for(k in a=[f],l)k in h||a.push(f=b.call(c,f,l[k],k,l));return a},scanl1:function(l,b,f){"string"==typeof l&&(l=l.split(""));f=f||m.global;b=e.lambda(b);var c,a,d;a=!0;if(n.isArray(l)){c=Array(a=l.length);c[0]=d=l[0];for(var k=1;k<a;c[k]=d=b.call(f,d,l[k],k,l),++k);
}else if("function"==typeof l.hasNext&&"function"==typeof l.next){if(l.hasNext())for(c=[d=l.next()],k=1;l.hasNext();c.push(d=b.call(f,d,l.next(),k++,l)));}else for(k in l)k in h||(a?(c=[d=l[k]],a=!1):c.push(d=b.call(f,d,l[k],k,l)));return c},scanr:function(l,b,f,c){"string"==typeof l&&(l=l.split(""));c=c||m.global;b=e.lambda(b);var a=l.length,d=Array(a+1),k=a;for(d[a]=f;0<k;--k,f=b.call(c,f,l[k],k,l),d[k]=f);return d},scanr1:function(l,b,f){"string"==typeof l&&(l=l.split(""));f=f||m.global;b=e.lambda(b);
var c=l.length,a=Array(c),d=l[c-1],c=c-1;for(a[c]=d;0<c;--c,d=b.call(f,d,l[c],c,l),a[c]=d);return a}})})},"dojox/charting/action2d/MoveSlice":function(){define("dojo/_base/connect dojo/_base/declare dojo/_base/array ./PlotAction dojo/fx/easing dojox/gfx/matrix dojox/gfx/fx dojox/lang/functional dojox/lang/functional/scan dojox/lang/functional/fold".split(" "),function(m,n,e,h,l,b,f,c){return n("dojox.charting.action2d.MoveSlice",h,{defaultParams:{duration:400,easing:l.backOut,scale:1.05,shift:7},
optionalParams:{},constructor:function(a,b,c){c||(c={});this.scale="number"==typeof c.scale?c.scale:1.05;this.shift="number"==typeof c.shift?c.shift:7;this.connect()},process:function(a){if(a.shape&&"slice"==a.element&&a.type in this.overOutEvents){if(!this.angles){var d=b._degToRad(a.plot.opt.startAngle);this.angles="number"==typeof a.run.data[0]?c.map(c.scanl(a.run.data,"+",0),"* 2 * Math.PI / this",c.foldl(a.run.data,"+",0)):c.map(c.scanl(a.run.data,"a + b.y",0),"* 2 * Math.PI / this",c.foldl(a.run.data,
"a + b.y",0));this.angles=e.map(this.angles,function(a){return a+d})}var k=a.index,l,h,g,p,n;l=(this.angles[k]+this.angles[k+1])/2;var P=b.rotateAt(-l,a.cx,a.cy),w=b.rotateAt(l,a.cx,a.cy);(l=this.anim[k])?l.action.stop(!0):this.anim[k]=l={};"onmouseover"==a.type?(p=0,n=this.shift,h=1,g=this.scale):(p=this.shift,n=0,h=this.scale,g=1);l.action=f.animateTransform({shape:a.shape,duration:this.duration,easing:this.easing,transform:[w,{name:"translate",start:[p,0],end:[n,0]},{name:"scaleAt",start:[h,a.cx,
a.cy],end:[g,a.cx,a.cy]},P]});"onmouseout"==a.type&&m.connect(l.action,"onEnd",this,function(){delete this.anim[k]});l.action.play()}},reset:function(){delete this.angles}})})},"dojox/charting/axis2d/Default":function(){define("dojo/_base/lang dojo/_base/array dojo/sniff dojo/_base/declare dojo/_base/connect dojo/dom-geometry ./Invisible ../scaler/linear ./common dojox/gfx dojox/lang/utils dojox/lang/functional dojo/has!dojo-bidi?../bidi/axis2d/Default".split(" "),function(m,n,e,h,l,b,f,c,a,d,k,u,
q){f=h(e("dojo-bidi")?"dojox.charting.axis2d.NonBidiDefault":"dojox.charting.axis2d.Default",f,{defaultParams:{vertical:!1,fixUpper:"none",fixLower:"none",natural:!1,leftBottom:!0,includeZero:!1,fixed:!0,majorLabels:!0,minorTicks:!0,minorLabels:!0,microTicks:!1,rotation:0,htmlLabels:!0,enableCache:!1,dropLabels:!0,labelSizeChange:!1,position:"leftOrBottom"},optionalParams:{min:0,max:1,from:0,to:1,majorTickStep:4,minorTickStep:2,microTickStep:1,labels:[],labelFunc:null,maxLabelSize:0,maxLabelCharCount:0,
trailingSymbol:null,stroke:{},majorTick:{},minorTick:{},microTick:{},tick:{},font:"",fontColor:"",title:"",titleGap:0,titleFont:"",titleFontColor:"",titleOrientation:""},constructor:function(a,b){this.opt=m.clone(this.defaultParams);k.updateWithObject(this.opt,b);k.updateWithPattern(this.opt,b,this.optionalParams);this.opt.enableCache&&(this._textFreePool=[],this._lineFreePool=[],this._textUsePool=[],this._lineUsePool=[]);this._invalidMaxLabelSize=!0;b&&"position"in b||(this.opt.position=this.opt.leftBottom?
"leftOrBottom":"rightOrTop");this.renderingOptions={"shape-rendering":"crispEdges"}},setWindow:function(a,b){a!=this.scale&&(this._invalidMaxLabelSize=!0);return this.inherited(arguments)},_groupLabelWidth:function(a,b,c){if(!a.length)return 0;50<a.length&&(a.length=50);m.isObject(a[0])&&(a=u.map(a,function(a){return a.text}));c&&(a=u.map(a,function(a){return 0==m.trim(a).length?"":a.substring(0,c)+this.trailingSymbol},this));a=a.join("\x3cbr\x3e");return d._base._getTextBox(a,{font:b}).w||0},_getMaxLabelSize:function(a,
b,d,f,e,k){if(null==this._maxLabelSize&&6==arguments.length){var g=this.opt;this.scaler.minMinorStep=this._prevMinMinorStep=0;var l=m.clone(g);delete l.to;delete l.from;var h=c.buildScaler(a,b,d,l,g.to-g.from);h.minMinorStep=0;this._majorStart=h.major.start;g=c.buildTicks(h,g);if(k&&g){var p=h=0,x=function(a){a.label&&this.push(a.label)},w=[];this.opt.majorLabels&&(n.forEach(g.major,x,w),h=this._groupLabelWidth(w,e,l.maxLabelCharCount),l.maxLabelSize&&(h=Math.min(l.maxLabelSize,h)));w=[];this.opt.dropLabels&&
this.opt.minorLabels&&(n.forEach(g.minor,x,w),p=this._groupLabelWidth(w,e,l.maxLabelCharCount),l.maxLabelSize&&(p=Math.min(l.maxLabelSize,p)));this._maxLabelSize={majLabelW:h,minLabelW:p,majLabelH:k,minLabelH:k}}else this._maxLabelSize=null}return this._maxLabelSize},calculate:function(a,b,f){this.inherited(arguments);this.scaler.minMinorStep=this._prevMinMinorStep;if((this._invalidMaxLabelSize||f!=this._oldSpan)&&Infinity!=a&&-Infinity!=b){this._invalidMaxLabelSize=!1;this.opt.labelSizeChange&&(this._maxLabelSize=
null);this._oldSpan=f;var e=this.opt,g=this.chart.theme.axis,k=e.rotation%360,l=this.chart.theme.axis.tick.labelGap,h=e.font||g.majorTick&&g.majorTick.font||g.tick&&g.tick.font,g=h?d.normalizedLength(d.splitFontString(h).size):0,h=this._getMaxLabelSize(a,b,f,k,h,g);"number"!=typeof l&&(l=4);if(h&&e.dropLabels){var e=Math.abs(Math.cos(k*Math.PI/180)),m=Math.abs(Math.sin(k*Math.PI/180));0>k&&(k+=360);switch(k){case 0:case 180:this.vertical?k=g:(k=h.majLabelW,g=h.minLabelW);break;case 90:case 270:this.vertical?
(k=h.majLabelW,g=h.minLabelW):k=g;break;default:k=this.vertical?Math.min(h.majLabelW,g/e):Math.min(h.majLabelW,g/m),g=Math.min(Math.sqrt(h.minLabelW*h.minLabelW+g*g),this.vertical?g*e+h.minLabelW*m:h.minLabelW*e+g*m)}this.scaler.minMinorStep=this._prevMinMinorStep=Math.max(k,g)+l;this._skipInterval=this.scaler.minMinorStep<=this.scaler.minor.tick*this.scaler.bounds.scale?0:Math.floor((k+l)/(this.scaler.major.tick*this.scaler.bounds.scale))}else this._skipInterval=0}this.ticks=c.buildTicks(this.scaler,
this.opt);return this},getOffsets:function(){var a={l:0,r:0,t:0,b:0};if(!this.scaler)return a;var b=this.opt,c=this.chart.theme.axis,f=this.chart.theme.axis.tick.labelGap,e=b.titleFont||c.title&&c.title.font,c=0==b.titleGap?0:b.titleGap||c.title&&c.title.gap,k=this.chart.theme.getTick("major",b),l=this.chart.theme.getTick("minor",b),e=e?d.normalizedLength(d.splitFontString(e).size):0,h=b.rotation%360,m=b.position,n="rightOrTop"!==m,q=Math.abs(Math.cos(h*Math.PI/180)),u=Math.abs(Math.sin(h*Math.PI/
180));this.trailingSymbol=void 0===b.trailingSymbol||null===b.trailingSymbol?this.trailingSymbol:b.trailingSymbol;"number"!=typeof f&&(f=4);0>h&&(h+=360);var y=this._getMaxLabelSize();if(y){var z=Math.ceil(Math.max(y.majLabelW,y.minLabelW))+1,t=Math.ceil(Math.max(y.majLabelH,y.minLabelH))+1;if(this.vertical)switch(y=n?"l":"r",h){case 0:case 180:a[y]="center"===m?0:z;a.t=a.b=t/2;break;case 90:case 270:a[y]=t;a.t=a.b=z/2;break;default:45>=h||180<h&&225>=h?(a[y]=t*u/2+z*q,a[n?"t":"b"]=t*q/2+z*u,a[n?
"b":"t"]=t*q/2):315<h||180>h&&135<h?(a[y]=t*u/2+z*q,a[n?"b":"t"]=t*q/2+z*u,a[n?"t":"b"]=t*q/2):90>h||180<h&&270>h?(a[y]=t*u+z*q,a[n?"t":"b"]=t*q+z*u):(a[y]=t*u+z*q,a[n?"b":"t"]=t*q+z*u)}else switch(y=n?"b":"t",h){case 0:case 180:a[y]="center"===m?0:t;a.l=a.r=z/2;break;case 90:case 270:a[y]=z;a.l=a.r=t/2;break;default:45<=h&&90>=h||225<=h&&270>=h?(a[y]=t*q/2+z*u,a[n?"r":"l"]=t*u/2+z*q,a[n?"l":"r"]=t*u/2):90<=h&&135>=h||270<=h&&315>=h?(a[y]=t*q/2+z*u,a[n?"l":"r"]=t*u/2+z*q,a[n?"r":"l"]=t*u/2):45>h||
180<h&&225>h?(a[y]=t*q+z*u,a[n?"r":"l"]=t*u+z*q):(a[y]=t*q+z*u,a[n?"l":"r"]=t*u+z*q)}a[y]="center"===m?0:a[y]+(f+Math.max(0<k.length?k.length:0,0<l.length?l.length:0)+(b.title?e+c:0))}return a},cleanGroup:function(a){this.opt.enableCache&&this.group&&(this._lineFreePool=this._lineFreePool.concat(this._lineUsePool),this._lineUsePool=[],this._textFreePool=this._textFreePool.concat(this._textUsePool),this._textUsePool=[]);this.inherited(arguments)},createText:function(b,c,d,f,e,h,k,l,m){if(!this.opt.enableCache||
"html"==b)return a.createText[b](this.chart,c,d,f,e,h,k,l,m);0<this._textFreePool.length?(b=this._textFreePool.pop(),b.setShape({x:d,y:f,text:h,align:e}),c.add(b)):b=a.createText[b](this.chart,c,d,f,e,h,k,l);this._textUsePool.push(b);return b},createLine:function(a,b){var c;this.opt.enableCache&&0<this._lineFreePool.length?(c=this._lineFreePool.pop(),c.setShape(b),a.add(c)):c=a.createLine(b);this.opt.enableCache&&this._lineUsePool.push(c);return c},render:function(b,f){var g,h,k,l,m,p,q,u,B,I,y,z,
t,N,O=this._isRtl();if(!this.dirty||!this.scaler)return this;var F=this.opt;B=this.chart.theme.axis;var T=F.position,G="rightOrTop"!==T,r=F.rotation%360,K=0,D,v,K=this.chart.theme.axis.tick.labelGap,L=F.font||B.majorTick&&B.majorTick.font||B.tick&&B.tick.font,H=F.titleFont||B.title&&B.title.font,C=F.fontColor||B.majorTick&&B.majorTick.fontColor||B.tick&&B.tick.fontColor||"black",R=F.titleFontColor||B.title&&B.title.fontColor||"black";m=0==F.titleGap?0:F.titleGap||B.title&&B.title.gap||15;var J=F.titleOrientation||
B.title&&B.title.orientation||"axis",V=this.chart.theme.getTick("major",F),W=this.chart.theme.getTick("minor",F),ca=this.chart.theme.getTick("micro",F),ea="stroke"in F?F.stroke:B.stroke,M=L?d.normalizedLength(d.splitFontString(L).size):0;p=Math.abs(Math.cos(r*Math.PI/180));D=Math.abs(Math.sin(r*Math.PI/180));var aa=H?d.normalizedLength(d.splitFontString(H).size):0;"number"!=typeof K&&(K=4);0>r&&(r+=360);var da=this._getMaxLabelSize(),da=da&&da.majLabelW;if(this.vertical){t=b.height-f.b;N=void 0;y=
f.t;z=void 0;B=(b.height-f.b+f.t)/2;I=void 0;D=M*D+(da||0)*p+K+Math.max(0<V.length?V.length:0,0<W.length?W.length:0)+aa+m;q=0;u=-1;h=g=0;m=1;p=0;k=K;l=0;switch(r){case 0:v="end";h=.4*M;break;case 90:v="middle";g=-M;break;case 180:v="start";h=.4*-M;break;case 270:v="middle";break;default:45>r?(v="end",h=.4*M):90>r?(v="end",h=.4*M):135>r?v="start":225>r?(v="start",h=.4*-M):270>r?(v="start",g=G?0:.4*M):315>r?(v="end",g=G?0:.4*M):(v="end",h=.4*M)}if(G)N=z="center"===T?b.width/2:f.l,K=J&&"away"==J?90:
270,I=f.l-D+(270==K?aa:0),m=-1,k=-k;else switch(N=z=b.width-f.r,K=J&&"axis"==J?90:270,I=b.width-f.r+D-(270==K?0:aa),v){case "start":v="end";break;case "end":v="start";break;case "middle":g+=M}}else{N=f.l;t=void 0;z=b.width-f.r;y=void 0;I=(b.width-f.r+f.l)/2;B=void 0;D=M*p+(da||0)*D+K+Math.max(0<V.length?V.length:0,0<W.length?W.length:0)+aa+m;q=O?-1:1;m=h=g=u=0;p=1;k=0;l=K;switch(r){case 0:v="middle";h=M;break;case 90:v="start";g=.4*-M;break;case 180:v="middle";break;case 270:v="end";g=.4*M;break;
default:45>r?(v="start",h=G?M:0):135>r?(v="start",g=.4*-M):180>r?(v="start",h=G?0:-M):225>r?(v="end",h=G?0:-M):315>r?(v="end",h=G?.4*M:0):(v="end",h=G?M:0)}if(G)t=y="center"===T?b.height/2:b.height-f.b,K=J&&"axis"==J?180:0,B=b.height-f.b+D-(K?aa:0);else switch(t=y=f.t,K=J&&"away"==J?180:0,B=f.t-D+(K?0:aa),p=-1,l=-l,v){case "start":v="end";break;case "end":v="start";break;case "middle":h-=M}}this.cleanGroup();var ba=this.group;b=this.scaler;f=this.ticks;var fa=c.getTransformerFromModel(this.scaler),
X=F.title&&K||r||!this.opt.htmlLabels||e("ie")||e("opera")?"gfx":"html",Y=m*V.length,Z=p*V.length,ga=this._skipInterval;ba.createLine({x1:N,y1:t,x2:z,y2:y}).setStroke(ea);F.title&&(H=a.createText[X](this.chart,ba,I,B,"middle",F.title,H,R),"html"==X?this.htmlElements.push(H):H.setTransform(d.matrix.rotategAt(K,I,B)));if(null==f)return this.dirty=!1,this;var ia=0<f.major.length?(f.major[0].value-this._majorStart)/b.major.tick:0,ha=this.opt.majorLabels;n.forEach(f.major,function(a,b){var c=fa(a.value),
f=(O?z:N)+q*c,c=t+u*c;b+=ia;this.createLine(ba,{x1:f,y1:c,x2:f+Y,y2:c+Z}).setStroke(V);if(a.label&&(!ga||0==(b-(1+ga))%(1+ga))){var e=F.maxLabelCharCount?this.getTextWithLimitCharCount(a.label,L,F.maxLabelCharCount):{text:a.label,truncated:!1},e=F.maxLabelSize?this.getTextWithLimitLength(e.text,L,F.maxLabelSize,e.truncated):e;b=this.createText(X,ba,f+(0<V.length?Y:0)+k+(r?0:g),c+(0<V.length?Z:0)+l+(r?0:h),v,e.text,L,C);e.truncated&&this.chart.formatTruncatedLabel(b,a.label,X);e.truncated&&this.labelTooltip(b,
this.chart,a.label,e.text,L,X);"html"==X?this.htmlElements.push(b):r&&b.setTransform([{dx:g,dy:h},d.matrix.rotategAt(r,f+(0<V.length?Y:0)+k,c+(0<V.length?Z:0)+l)])}},this);Y=m*W.length;Z=p*W.length;ha=this.opt.minorLabels&&b.minMinorStep<=b.minor.tick*b.bounds.scale;n.forEach(f.minor,function(a){var b=fa(a.value),c=(O?z:N)+q*b,f=t+u*b;this.createLine(ba,{x1:c,y1:f,x2:c+Y,y2:f+Z}).setStroke(W);if(ha&&a.label){var e=F.maxLabelCharCount?this.getTextWithLimitCharCount(a.label,L,F.maxLabelCharCount):{text:a.label,
truncated:!1},e=F.maxLabelSize?this.getTextWithLimitLength(e.text,L,F.maxLabelSize,e.truncated):e,b=this.createText(X,ba,c+(0<W.length?Y:0)+k+(r?0:g),f+(0<W.length?Z:0)+l+(r?0:h),v,e.text,L,C);e.truncated&&this.chart.formatTruncatedLabel(b,a.label,X);e.truncated&&this.labelTooltip(b,this.chart,a.label,e.text,L,X);"html"==X?this.htmlElements.push(b):r&&b.setTransform([{dx:g,dy:h},d.matrix.rotategAt(r,c+(0<W.length?Y:0)+k,f+(0<W.length?Z:0)+l)])}},this);Y=m*ca.length;Z=p*ca.length;n.forEach(f.micro,
function(a){var b=fa(a.value);a=N+q*b;b=t+u*b;this.createLine(ba,{x1:a,y1:b,x2:a+Y,y2:b+Z}).setStroke(ca)},this);this.dirty=!1;return this},labelTooltip:function(a,c,f,e,h,k){var g=["dijit/Tooltip"],n={type:"rect"},p=["above","below"];e=d._base._getTextBox(e,{font:h}).w||0;h=h?d.normalizedLength(d.splitFontString(h).size):0;"html"==k?(m.mixin(n,b.position(a.firstChild,!0)),n.width=Math.ceil(e),n.height=Math.ceil(h),this._events.push({shape:dojo,handle:l.connect(a.firstChild,"onmouseover",this,function(a){require(g,
function(a){a.show(f,n,p)})})}),this._events.push({shape:dojo,handle:l.connect(a.firstChild,"onmouseout",this,function(a){require(g,function(a){a.hide(n)})})})):(k=a.getShape(),c=c.getCoords(),n=m.mixin(n,{x:k.x-e/2,y:k.y}),n.x+=c.x,n.y+=c.y,n.x=Math.round(n.x),n.y=Math.round(n.y),n.width=Math.ceil(e),n.height=Math.ceil(h),this._events.push({shape:a,handle:a.connect("onmouseenter",this,function(a){require(g,function(a){a.show(f,n,p)})})}),this._events.push({shape:a,handle:a.connect("onmouseleave",
this,function(a){require(g,function(a){a.hide(n)})})}))},_isRtl:function(){return!1}});return e("dojo-bidi")?h("dojox.charting.axis2d.Default",[f,q]):f})},"dojox/charting/axis2d/Invisible":function(){define(["dojo/_base/lang","dojo/_base/declare","./Base","../scaler/linear","dojox/lang/utils"],function(m,n,e,h,l){return n("dojox.charting.axis2d.Invisible",e,{defaultParams:{vertical:!1,fixUpper:"none",fixLower:"none",natural:!1,leftBottom:!0,includeZero:!1,fixed:!0},optionalParams:{min:0,max:1,from:0,
to:1,majorTickStep:4,minorTickStep:2,microTickStep:1},constructor:function(b,f){this.opt=m.clone(this.defaultParams);l.updateWithObject(this.opt,f);l.updateWithPattern(this.opt,f,this.optionalParams)},dependOnData:function(){return!("min"in this.opt)||!("max"in this.opt)},clear:function(){delete this.scaler;delete this.ticks;this.dirty=!0;return this},initialized:function(){return"scaler"in this&&!(this.dirty&&this.dependOnData())},setWindow:function(b,f){this.scale=b;this.offset=f;return this.clear()},
getWindowScale:function(){return"scale"in this?this.scale:1},getWindowOffset:function(){return"offset"in this?this.offset:0},calculate:function(b,f,c,a){if(this.initialized())return this;var d=this.opt;this.labels=d.labels;this.scaler=(a||h).buildScaler(b,f,c,d);var e=this.scaler.bounds;"scale"in this&&(d.from=e.lower+this.offset,d.to=(e.upper-e.lower)/this.scale+d.from,!isFinite(d.from)||isNaN(d.from)||!isFinite(d.to)||isNaN(d.to)||d.to-d.from>=e.upper-e.lower?(delete d.from,delete d.to,delete this.scale,
delete this.offset):(d.from<e.lower?(d.to+=e.lower-d.from,d.from=e.lower):d.to>e.upper&&(d.from+=e.upper-d.to,d.to=e.upper),this.offset=d.from-e.lower),this.scaler=(a||h).buildScaler(b,f,c,d),e=this.scaler.bounds,1==this.scale&&0==this.offset&&(delete this.scale,delete this.offset));return this},getScaler:function(){return this.scaler},getTicks:function(){return this.ticks}})})},"dojox/charting/axis2d/Base":function(){define(["dojo/_base/declare","../Element"],function(m,n){return m("dojox.charting.axis2d.Base",
n,{constructor:function(e,h){this.vertical=h&&h.vertical;this.opt={};this.opt.min=h&&h.min;this.opt.max=h&&h.max},clear:function(){return this},initialized:function(){return!1},calculate:function(e,h,l){return this},getScaler:function(){return null},getTicks:function(){return null},getOffsets:function(){return{l:0,r:0,t:0,b:0}},render:function(e,h){this.dirty=!1;return this},isNullValue:function(e){return!1},naturalBaseline:0})})},"dojox/charting/scaler/linear":function(){define(["dojo/_base/lang",
"./common"],function(m,n){function e(b,c){b=b.toLowerCase();for(var a=c.length-1;0<=a;--a)if(b===c[a])return!0;return!1}var h=m.getObject("dojox.charting.scaler.linear",!0),l=n.getNumericLabel,b=function(b,c,a,d,k,l,n){a=m.delegate(a);d||("major"==a.fixUpper&&(a.fixUpper="minor"),"major"==a.fixLower&&(a.fixLower="minor"));k||("minor"==a.fixUpper&&(a.fixUpper="micro"),"minor"==a.fixLower&&(a.fixLower="micro"));l||("micro"==a.fixUpper&&(a.fixUpper="none"),"micro"==a.fixLower&&(a.fixLower="none"));var f=
e(a.fixLower,["major"])?Math.floor(a.min/d)*d:e(a.fixLower,["minor"])?Math.floor(a.min/k)*k:e(a.fixLower,["micro"])?Math.floor(a.min/l)*l:a.min,p=e(a.fixUpper,["major"])?Math.ceil(a.max/d)*d:e(a.fixUpper,["minor"])?Math.ceil(a.max/k)*k:e(a.fixUpper,["micro"])?Math.ceil(a.max/l)*l:a.max;a.useMin&&(b=f);a.useMax&&(c=p);var q=!d||a.useMin&&e(a.fixLower,["major"])?b:Math.ceil(b/d)*d,u=!k||a.useMin&&e(a.fixLower,["major","minor"])?b:Math.ceil(b/k)*k,w=!l||a.useMin&&e(a.fixLower,["major","minor","micro"])?
b:Math.ceil(b/l)*l,S=d?(a.useMax&&e(a.fixUpper,["major"])?Math.round((c-q)/d):Math.floor((c-q)/d))+1:0,A=k?(a.useMax&&e(a.fixUpper,["major","minor"])?Math.round((c-u)/k):Math.floor((c-u)/k))+1:0;a=l?(a.useMax&&e(a.fixUpper,["major","minor","micro"])?Math.round((c-w)/l):Math.floor((c-w)/l))+1:0;var E=k?Math.round(d/k):0,U=l?Math.round(k/l):0,Q=d?Math.floor(Math.log(d)/Math.LN10):0,B=k?Math.floor(Math.log(k)/Math.LN10):0,I=n/(c-b);isFinite(I)||(I=1);return{bounds:{lower:f,upper:p,from:b,to:c,scale:I,
span:n},major:{tick:d,start:q,count:S,prec:Q},minor:{tick:k,start:u,count:A,prec:B},micro:{tick:l,start:w,count:a,prec:0},minorPerMajor:E,microPerMinor:U,scaler:h}};return m.mixin(h,{buildScaler:function(e,c,a,d,h,l){var f={fixUpper:"none",fixLower:"none",natural:!1};d&&("fixUpper"in d&&(f.fixUpper=String(d.fixUpper)),"fixLower"in d&&(f.fixLower=String(d.fixLower)),"natural"in d&&(f.natural=!!d.natural));l=!l||3>l?3:l;"min"in d&&(e=d.min);"max"in d&&(c=d.max);d.includeZero&&(0<e&&(e=0),0>c&&(c=0));
f.min=e;f.useMin=!0;f.max=c;f.useMax=!0;"from"in d&&(e=d.from,f.useMin=!1);"to"in d&&(c=d.to,f.useMax=!1);if(c<=e)return b(e,c,f,0,0,0,a);h||(h=c-e);h=Math.floor(Math.log(h)/Math.LN10);h=d&&"majorTickStep"in d?d.majorTickStep:Math.pow(10,h);var g=0,k=0,m;if(d&&"minorTickStep"in d)g=d.minorTickStep;else{do{g=h/10;if(!f.natural||.9<g)if(m=b(e,c,f,h,g,0,a),m.bounds.scale*m.minor.tick>l)break;g=h/5;if(!f.natural||.9<g)if(m=b(e,c,f,h,g,0,a),m.bounds.scale*m.minor.tick>l)break;g=h/2;if(!f.natural||.9<g)if(m=
b(e,c,f,h,g,0,a),m.bounds.scale*m.minor.tick>l)break;return b(e,c,f,h,0,0,a)}while(0)}if(d&&"microTickStep"in d)k=d.microTickStep,m=b(e,c,f,h,g,k,a);else{do{k=g/10;if(!f.natural||.9<k)if(m=b(e,c,f,h,g,k,a),3<m.bounds.scale*m.micro.tick)break;k=g/5;if(!f.natural||.9<k)if(m=b(e,c,f,h,g,k,a),3<m.bounds.scale*m.micro.tick)break;k=g/2;if(!f.natural||.9<k)if(m=b(e,c,f,h,g,k,a),3<m.bounds.scale*m.micro.tick)break;k=0}while(0)}return k?m:b(e,c,f,h,g,0,a)},buildTicks:function(b,c){var a,d,e,f=b.major.start,
h=b.minor.start,g=b.micro.start;if(c.microTicks&&b.micro.tick)a=b.micro.tick,d=g;else if(c.minorTicks&&b.minor.tick)a=b.minor.tick,d=h;else if(b.major.tick)a=b.major.tick,d=f;else return null;var m=1/b.bounds.scale;if(b.bounds.to<=b.bounds.from||isNaN(m)||!isFinite(m)||0>=a||isNaN(a)||!isFinite(a))return null;for(var n=[],P=[],w=[];d<=b.bounds.to+m;)Math.abs(f-d)<a/2?(e={value:f},c.majorLabels&&(e.label=l(f,b.major.prec,c)),n.push(e),f+=b.major.tick,h+=b.minor.tick):Math.abs(h-d)<a/2?(c.minorTicks&&
(e={value:h},c.minorLabels&&b.minMinorStep<=b.minor.tick*b.bounds.scale&&(e.label=l(h,b.minor.prec,c)),P.push(e)),h+=b.minor.tick):c.microTicks&&w.push({value:g}),g+=b.micro.tick,d+=a;return{major:n,minor:P,micro:w}},getTransformerFromModel:function(b){var c=b.bounds.from,a=b.bounds.scale;return function(b){return(b-c)*a}},getTransformerFromPlot:function(b){var c=b.bounds.from,a=b.bounds.scale;return function(b){return b/a+c}}})})},"widgets/ReviewerDashboard/_build-generate_module":function(){define(["dojo/text!./Widget.html",
"dojo/text!./css/style.css","dojo/i18n!./nls/strings"],function(){})},"url:widgets/ReviewerDashboard/Widget.html":'\x3cdiv onselectstart\x3d"return false;"\x3e\r\n   \x3cdiv class\x3d"chart-content" data-dojo-attach-point\x3d"content"\x3e\r\n      \x3cdiv class\x3d"chart-tab-node" data-dojo-attach-point\x3d"selectTabNode"\x3e\r\n          \x3cdiv class\x3d\'sectionHeading\'/\x3e${nls.selectAttributeFilters}\x3c/div\x3e\r\n\r\n        \x3cdiv id\x3d"filterContainer" data-dojo-attach-point\x3d"filterContainer"\x3e  \r\n           \x3cul data-dojo-attach-point\x3d"filterList"\x3e\r\n           \x3c/ul\x3e\r\n    \r\n         \x3c/div\x3e\r\n         \r\n     \x3cdiv style\x3d\'margin:15px 10px 15px 0px;\'/\x3e\r\n        \x3cdiv class\x3d\'sectionHeading\'\x3e${nls.spatialFilterSelection}\x3c/div\x3e\r\n\r\n      \x3cdiv id\x3d"filterContainer"\x3e\r\n      \x3cul data-dojo-attach-point\x3d"spatialFilterList"\x3e\r\n        \x3cli\x3e\x3ca href\x3d"#" id\x3d"spatialFilterLink"\x3e\x3cdiv  data-dojo-attach-point\x3d"drawSpatialFilter" class\x3d\'spatialFilterLabel\'/\x3e\r\n          ${nls.drawSelectionArea}\r\n        \x3c/div\x3e\x3c/a\x3e\x3c/li\x3e\r\n        \x3cli\x3e\x3ca href\x3d"#"  id\x3d"currentMapExtentLink"\x3e\x3cdiv  data-dojo-attach-point\x3d"currentMapExtent" class\x3d\'spatialFilterLabel\'/\x3e\r\n            ${nls.currentSelection}\r\n        \x3c/div\x3e\x3c/a\x3e\x3c/li\x3e\r\n          \x3cli class\x3d\'dynamicRow\'\x3e\x3ca href\x3d"#"  id\x3d"censusBlockLink"\x3e\x3cdiv  data-dojo-attach-point\x3d"censusBlockGroup" class\x3d\'spatialFilterLabel\'/\x3e\r\n          ${nls.censusBlockGroup}\r\n        \x3c/div\x3e\x3c/a\x3e\x3c/li\x3e\r\n        \x3cli\x3e\x3ca href\x3d"#"  id\x3d"clearSpatialFilterLink" class\x3d"current"\x3e\x3cdiv  data-dojo-attach-point\x3d"clearSpatialFilter" class\x3d\'spatialFilterLabel\'/\x3e\r\n         ${nls.noSpatialFilter}\r\n        \x3c/div\x3e\x3c/a\x3e\x3c/li\x3e\r\n      \x3c/ul\x3e\r\n    \x3c/div\x3e\r\n \x3c/div\x3e\r\n    \x3cdiv style\x3d\'margin:15px 10px 15px 0px;\'/\x3e\r\n      \x3cdiv class\x3d\'sectionHeading\'\x3e${nls.reviewerSessionFilter}\x3c/div\x3e\r\n      \x3cselect data-dojo-type\x3d"dijit/form/Select" data-dojo-attach-point\x3d"sessionNameSelect" style\x3d"width:90%;height:25px;margin: 10px 5px 0px 7px;"\x3e\r\n\x3coption value\x3d"All"\x3e ${nls.allSessions}\x3c/option\x3e\r\n      \x3c/select\x3e\r\n    \x3c/div\x3e\r\n     \r\n      \x3cdiv class\x3d"chart-tab-node" data-dojo-attach-point\x3d"resultsTabNode"\x3e\r\n         \x3cdiv class\x3d"results-section" data-dojo-attach-point\x3d"resultsSection" style\x3d"display:none;"\x3e\r\n            \x3cdiv class\x3d"results-header"\x3e\r\n               \x3cdiv class\x3d"sectionHeading trimContent" style\x3d"border:none !important;width:80%;" data-dojo-attach-point\x3d"chartTitle"\x3e\x3c/div\x3e\r\n               \x3cdiv style\x3d"margin-top: -26px;width: 77px;float: right; display:none;" data-dojo-attach-point\x3d"backButtonContainer" \x3e\r\n                \x3c/div\x3e\r\n               \x3cdiv class\x3d"paging-section" style\x3d"margin-top:-30px"\x3e\r\n                  \x3cul data-dojo-attach-point\x3d"pagingUl"\x3e\x3c/ul\x3e\r\n               \x3c/div\x3e\r\n            \x3cdiv class\x3d"paging-section jimu-trailing-margin4 otherBackButton" style\x3d"margin-top:-26px"\x3e\r\n            \x3cinput type\x3d"Button" value\x3d"${nls.backButton}" text\x3d"${nls.backButton}" style\x3d"width:37px;" data-dojo-attach-point\x3d"backButton"/\x3e\x3c/div\x3e\r\n            \x3c/div\x3e \r\n            \x3cdiv class\x3d"chart-section"\x3e\r\n               \r\n              \r\n                \x3cdiv id\x3d\'mainChartContainer\' class\x3d"mainChartContainer"\x3e\r\n                  \x3ctable\x3e\r\n                    \x3ctr\x3e\r\n                    \r\n                    \x3c/tr\x3e\r\n                    \x3ctr style\x3d"border 1px solid;"\x3e\r\n                      \x3ctd style\x3d"width:320px !important; height:235px;"\x3e\x3cdiv class\x3d"chart-section-item chart-container" data-dojo-attach-point\x3d"chartContainer"\x3e\x3c/td\x3e\r\n                    \x3c/tr\x3e\r\n                  \x3c/table\x3e\r\n                \x3c/div\x3e\r\n               \x3c/div\x3e\r\n               \r\n            \x3c/div\x3e\r\n      \x3c/div\x3e\r\n   \x3c/div\x3e\r\n\x3c/div\x3e',
"url:widgets/ReviewerDashboard/css/style.css":'.drs-widget-dashboard{position: relative; width:100%; height:100%; min-width:270px; min-height:330px;}.drs-widget-dashboard .chart-content{position: relative; width:100%; height:100%;}.drs-widget-dashboard .chart-tab-node{position: absolute !important; width: 100% !important; height: auto !important; top:0 !important; bottom: 0 !important;}.drs-widget-dashboard\x3e.jimu-tab\x3e.control{margin:-14px -14px 0 -14px;}.drs-widget-dashboard\x3e.jimu-tab\x3e.jimu-viewstack{position: absolute !important; top: 45px !important; left: 0 !important; right: 0 !important; bottom: 0 !important; height: auto !important; margin-bottom:-14px;}.drs-widget-dashboard .results-section{width:100%;}.drs-widget-dashboard .noresults-section{width:100%;}.drs-widget-dashboard .results-header{width:100%; height:30px;}.drs-widget-dashboard .chart-title{float:left; height:100%;}.drs-widget-dashboard .paging-section ul{margin:0; padding:0; height:100%; list-style:none;}.drs-widget-dashboard .paging-section ul li{float:left; height:100%;}.drs-widget-dashboard .paging-section ul li a{display: block; width:5px; height:100%; padding:0 5px; margin-left:10px; background-repeat: no-repeat; background-position: center center; background-image:url(../images/dot1.png); cursor:pointer;}.drs-widget-dashboard .paging-section ul li a:hover,.drs-widget-dashboard .paging-section ul li.selected a{background-image:url(../images/dot2.png);}.drs-widget-dashboard .chart-section{position:relative; width:100%; height:280px;}.drs-widget-dashboard .chart-section .chart-section-item{position:absolute; height:100%; top:0;}.drs-widget-dashboard .TabTheme .jimu-tab\x3e.control\x3e.tab.jimu-state-selected{border-top: 0;}.drs-widget-dashboard input[type\x3d"radio"] {margin-right: 10; margin-bottom: 20; margin-left: 20;}#filterContainer ul{margin: 0;padding: 0;list-style-type: none;}#filterContainer li {margin: 0 0 .2em 0; border-bottom: 1px solid #eef2f5; font-size: 13px;}#filterContainer a{display: block; padding: 2px 4px; margin: -1px 0 0 0px; width: 100%; height: 100%; text-decoration: none; color: #7989a0;}#filterContainer a:hover {width: 100%; height: 100%;}#filterContainer li a.current {background-color: #d3d3d3; padding: 2px 4px; margin: -1px 0 0 0px; width: 100%; height: 100%;}#filterContainer li a.current:hover {}#filterContainer li.selected a:active {background: #e2f6ff !important;}.drs-widget-dashboard .spatialFilterLabel{margin: 6px 4px;}.drs-widget-dashboard .sectionHeading{margin: 5px 0px; font-weight: bold; color: #82878B; border-bottom:1px solid #D4E5F7;}.drs-widget-dashboard .radioButtonLabel{margin:6px 5px !important;}.drs-widget-dashboard body {font: 12px Myriad,Helvetica,Tahoma,Arial,clean,sans-serif;}.drs-widget-dashboard .chart-section {margin-top: -11px;}.drs-widget-dashboard .mainChartContainer{direction: ltr;}.drs-widget-dashboard .chart-section .chart-container {margin: 0 auto; width: 78%;}.drs-widget-dashboard .paging-section {float: right; height: 100%;}[dir\x3drtl] .drs-widget-dashboard .paging-section {float: left; height: 100%;}.drs-widget-dashboard .trimContent {overflow: hidden; white-space: nowrap; -o-text-overflow: ellipsis; -ms-text-overflow: ellipsis; text-overflow: ellipsis; display: block; width: inherit;}',
"*now":function(m){m(['dojo/i18n!*preload*widgets/ReviewerDashboard/nls/Widget*["ar","bs","cs","da","de","en","el","es","et","fi","fr","he","hi","hr","id","it","ja","ko","lt","lv","nb","nl","pl","pt-br","pt-pt","ro","ru","sl","sr","sv","th","tr","zh-cn","vi","zh-hk","zh-tw","ROOT"]'])},"*noref":1}});
define("dojo/_base/declare dojo/on dojo/query dojo/_base/lang dojo/_base/array dojo/_base/html dijit/_WidgetsInTemplateMixin jimu/BaseWidget esri/tasks/datareviewer/DashboardTask esri/tasks/datareviewer/ReviewerFilters ./ReviewerMapHelper esri/tasks/datareviewer/ReviewerResultsTask esri/tasks/datareviewer/DashboardResult esri/tasks/datareviewer/ReviewerLifecycle jimu/dijit/TabContainer esri/graphic esri/layers/ArcGISDynamicMapServiceLayer esri/tasks/GeometryService esri/symbols/SimpleFillSymbol esri/tasks/query esri/tasks/QueryTask esri/geometry/Extent esri/layers/FeatureLayer esri/geometry/Polygon esri/toolbars/draw dojo/dom dojox/charting/Chart dojox/charting/plot2d/Bars dojox/charting/plot2d/Pie dojox/charting/SimpleTheme dojox/charting/action2d/Tooltip dojox/charting/action2d/MoveSlice dojo/dom-class dijit/Dialog dojox/charting/axis2d/Default dijit/form/RadioButton dijit/form/Select".split(" "),function(m,
n,e,h,l,b,f,c,a,d,k,u,q,g,p,x,P,w,S,A,E,U,Q,B,I,y,z,t,N,O,F,T,G,r){return m([c,f],{baseClass:"drs-widget-dashboard",name:"Dashboard",charts:null,currentChartIndex:0,dashboardTask:null,reviewerHelper:null,reviewerPointLayer:null,reviewerLineLayer:null,reviewerPolygonLayer:null,spatialFilterLayer:null,reviewerResultsTask:null,useCurrentMapExtent:!1,useSpatialFilter:!1,mapSpatialFilter:null,esriQuery:null,queryTask:null,toolbar:null,otherCategoryChartColors:null,mapClickEvent:null,tabContainer:null,
isClosed:!1,otherDashboardResult:null,dashboardResult:null,layerDrawingOptions:null,selectedFieldName:null,selectedFieldAlias:null,layerUrl:null,chartPageLevel:0,postCreate:function(){this.inherited(arguments);this.charts=[];this.otherDashboardResult=[];h.hitch(this,this._initResultsTab());this._createCharts=h.hitch(this,this._createCharts);this.dashboardTask=new a(this.config.drsSOEURL);this.reviewerResultsTask=new u(this.config.drsSOEURL);this.reviewerHelper=new k(this.config.drsSOEURL,null,null,
null,null);this.dashboardTask.getReviewerSessions().then(h.hitch(this,function(a){l.forEach(a.reviewerSessions,h.hitch(this,function(a){this.sessionNameSelect.addOption({value:a.sessionId,label:a.toString()})}));this._displayResult(null,!0)}),h.hitch(this,function(a){this._showDialog("Error",a.message)}));this.own(n(this.sessionNameSelect,"change",h.hitch(this,function(){this.chartPageLevel=0;this.showHideBackButton(!1);if(this.useCurrentMapExtent){var a=this._getMapExtent();h.hitch(this,this._displayResult(a))}else h.hitch(this,
this._displayResult(this.mapSpatialFilter,!0))})));this.own(n(this.currentMapExtent,"click",h.hitch(this,function(){h.hitch(this,this.setSpatialFilters("currentMapExtentLink","spatialFilterLink","clearSpatialFilterLink","censusBlockLink"));this.useSpatialFilter=!1;this.queryTask=null;this.useCurrentMapExtent=!0;var a=this._getMapExtent();h.hitch(this,this._displayResult(a))})));this.own(n(this.clearSpatialFilter,"click",h.hitch(this,function(){h.hitch(this,this.setSpatialFilters("clearSpatialFilterLink",
"spatialFilterLink","currentMapExtentLink","censusBlockLink"));this.useSpatialFilter=this.useCurrentMapExtent=!1;G.remove("spatialFilterLink","current");this.queryTask=null;h.hitch(this,this._displayResult())})));this.own(n(this.drawSpatialFilter,"click",h.hitch(this,function(){h.hitch(this,this.setSpatialFilters("spatialFilterLink","clearSpatialFilterLink","currentMapExtentLink","censusBlockLink"));this.map.graphics.clear();this.useCurrentMapExtent=!1;this.queryTask=null;this.useSpatialFilter=!0;
this._initDraw()})));this.own(n(this.censusBlockGroup,"click",h.hitch(this,function(){h.hitch(this,this.setSpatialFilters("censusBlockLink","clearSpatialFilterLink","currentMapExtentLink","spatialFilterLink"));this.useSpatialFilter=this.useCurrentMapExtent=!1;this.mapSpatialFilter=null;this.queryTask=new E(this.config.selectUrl);this.mapClickEvent=this.map.on("click",h.hitch(this,this._executeQuery))})));this.own(n(this.map,"extent-change",h.hitch(this,function(){if(!0===this.useCurrentMapExtent){var a=
this._getMapExtent();h.hitch(this,this._displayResult(a))}})));this.own(n(this.backButton,"click",h.hitch(this,function(){if(null!==this.dashboardResult){--this.chartPageLevel;0===this.chartPageLevel&&this.showHideBackButton(!1);var a;a=this._createDrilledChartData();this._createCharts(a,this.layerDrawingOptions,this.selectedFieldName)}})))},setSpatialFilters:function(a,b,c,d){null!==this.mapClickEvent&&this.mapClickEvent.remove();this._clear();this.showHideBackButton(!1);G.add(a,"current");G.remove(b,
"current");G.remove(c,"current");G.remove(d,"current")},startup:function(){this.inherited(arguments);this.tabContainer=new p({tabs:[{title:this.nls.dashboardTab,content:this.resultsTabNode},{title:this.nls.filtersTab,content:this.selectTabNode}],selected:this.nls.dashboardTab},this.content);this.tabContainer.startup();var a=this.getDashboardFieldNames();this._createRadioButtons(a);"false"===this.config.includeGeographicFilter&&(a=e(".dynamicRow",this.spatialFilterList),void 0!==a&&null!==a&&0<a.length&&
(a[0].style.display="none"))},onOpen:function(){null!==this.mapClickEvent&&this.mapClickEvent.remove();this.queryTask=null;this.showHideBackButton(!1);this.useSpatialFilter=this.useCurrentMapExtent=!1;G.add("clearSpatialFilterLink","current");G.remove("currentMapExtentLink","current");G.remove("spatialFilterLink","current");G.remove("censusBlockLink","current");this.sessionNameSelect.set("value","All");this._displaySpatialLayer();!0===this.isClosed&&this._displayResult(null,!0)},getDashboardFieldNames:function(){var a=
this.config.dashboardFieldNames,b=[];0<a.length&&l.forEach(a,function(a){a.isVisible&&b.push({fieldName:a.dashboardFieldName,alias:a.alias})});return b},_displaySpatialLayer:function(){this.layerUrl=this.dashboardTask.getReviewerMapServerUrl();this.spatialFilterLayer=P(this.config.selectMapUrl);this.map.addLayer(this.spatialFilterLayer);var a=[],b=this.config.selectUrl;a.push(b.substring(b.lastIndexOf("/")+1,b.length));this.spatialFilterLayer.setVisibleLayers(a)},_createRadioButtons:function(a){for(var c=
l.filter(this.config.dashboardFieldNames,function(a){return!0===a.isDefault}),d=0;d<a.length;d++){var e="\x3cli\x3e\x3clabel for\x3d'"+a[d].fieldName+"Radio'\x3e\x3ca href\x3d'#' id\x3d'"+a[d].fieldName+"'\x3e\x3cinput type\x3d'radio' name\x3d'fieldNamesRadio' value\x3d'"+a[d].fieldName+"'";c[0].dashboardFieldName.toLowerCase()===a[d].fieldName.toLowerCase()&&(e+=" checked\x3d'checked'");e+="data-dojo-type\x3d'dijit/form/RadioButton' id\x3d'"+a[d].fieldName+"Radio' class\x3d'radioButtonLabel' innerText\x3d'"+
a[d].alias+"'/\x3e";e+=a[d].alias+"\x3c/label\x3e\x3c/a\x3e\x3c/li\x3e";e=b.toDom(e);b.place(e,this.filterList);n(y.byId(a[d].fieldName+"Radio"),"change",h.hitch(this,this._radioChange));n(y.byId(a[d].fieldName),"click",h.hitch(this,this._fieldNameClick))}},_fieldNameClick:function(a){a=y.byId(a.target.id+"Radio");void 0!==a&&null!==a&&(a.checked=!0,this._radioChange())},_radioChange:function(){this.chartPageLevel=0;this.showHideBackButton(!1);var a;this.useCurrentMapExtent?a=this._getMapExtent():
!1===this.useCurrentMapExtent&&(a=this.mapSpatialFilter);h.hitch(this,this._displayResult(a,!0))},_initResultsTab:function(){this.own(n(this.pagingUl,"click",h.hitch(this,function(a){a=a.target||a.srcElement;if("a"===a.tagName.toLowerCase()){var b=e("a",this.pagingUl);a=l.indexOf(b,a);0<=a&&(this.currentChartIndex=a,this._showChart(a))}})))},_initDraw:function(){this.toolbar=new I(this.map);this.toolbar.activate(I.POLYGON);this.toolbar.on("draw-end",h.hitch(this,function(a){this._clear();var b=new S,
b=new x(a.geometry,b);this.map.graphics.add(b);this.mapSpatialFilter=a.geometry;this._displayResult(this.mapSpatialFilter)}))},_executeQuery:function(a){var b=new A;b.returnGeometry=!0;a=a.mapPoint;a=new U({xmin:a.x,ymin:a.y,xmax:a.x,ymax:a.y,spatialReference:a.spatialReference});b.geometry=a;this.queryTask.execute(b,h.hitch(this,this._handleQueryResults))},_handleQueryResults:function(a){var b=[];a=a.features;var c=new w(this.config.geometryServiceURL),d=this.map.graphics.graphics;l.forEach(a,h.hitch(this,
function(a){a.setSymbol(new S);if(0===d.length)this.map.graphics.add(a);else{var b=!1;l.forEach(d,h.hitch(this,function(c){var d=a.geometry.getExtent().getCenter().x;c.geometry.getExtent().getCenter().x===d&&(b=!0,a=c)}));b?this.map.graphics.remove(a):this.map.graphics.add(a)}}));d=this.map.graphics;l.forEach(d.graphics,h.hitch(this,function(a){b.push(a.geometry)}));1<b.length?c.union(b,h.hitch(this,function(a){this.mapSpatialFilter=a;this._updateChart(a)}),h.hitch(this,function(a){this._showDialog("Error",
a.message)})):(this.mapSpatialFilter=b[0],this._updateChart(b[0]))},_getMapExtent:function(){var a=this.map.extent,b=new B(a.spatialReference),c=a.xmin,d=a.xmax,e=a.ymin,a=a.ymax;b.addRing([[c,e],[c,a],[d,a],[d,e],[c,e]]);return b},_displayResult:function(a,c){b.setStyle(this.resultsSection,"display","block");this.tabContainer.selectTab(this.nls.dashboardTab);var f="",g;e('[name\x3d"fieldNamesRadio"]').forEach(h.hitch(this,function(a){a.checked&&(f=a.value,g=a.getAttribute("innerText"))}));if(""!==
f){this.selectedFieldName=f;this.selectedFieldAlias=g;var l=this.sessionNameSelect.get("value"),k=new d;"All"!==l&&k.addAttributeFilter("SESSIONID",parseInt(l,10));(1<=k.getCount()?this.dashboardTask.getDashboardResults(f.toLowerCase()===this.nls.phaseFieldName.toLowerCase()?this.nls.statusFieldName:f,k):this.dashboardTask.getDashboardResults(f.toLowerCase()===this.nls.phaseFieldName.toLowerCase()?this.nls.statusFieldName:f)).then(h.hitch(this,function(b){f.toLowerCase()===this.nls.phaseFieldName.toLowerCase()?
this.dashboardResult=this.getLifecyclePhaseresult(b.dashboardResult):this.dashboardResult=b.dashboardResult;this.reviewerHelper.getLayerDrawingOptions(this.dashboardResult,null,null).then(h.hitch(this,function(b){var d=this.dashboardResult;0<d.fieldValues.length?(a&&c?this._updateChart(a,b.layerDrawingOptions):!a||null!==c&&void 0!==c?void 0===a&&void 0===c?this._updateChart(null,this.layerDrawingOptions):(this.layerDrawingOptions=b.layerDrawingOptions,this._createCharts(d,b.layerDrawingOptions,f)):
this._updateChart(a,this.layerDrawingOptions),c&&(null===d||null===d.filters||0===d.filters.getCount()?(this._applyUniqueValueRenderer(b.layerDrawingOptions.layerDrawingOptionsArray),this.layerDrawingOptions=b.layerDrawingOptions):this.reviewerResultsTask.getLayerDefinition(d.filters).then(h.hitch(this,function(a){this._applyUniqueValueRenderer(b.layerDrawingOptions.layerDrawingOptionsArray,a.whereClause);this.layerDrawingOptions=b.layerDrawingOptions}),h.hitch(this,function(a){this._showDialog("Error",
a.message)})))):(this._clearCharts(),this.chartTitle.innerHTML=this.nls.noResults)}),h.hitch(this,function(a){this._showDialog("Error",a.message)}))}),h.hitch(this,function(a){this._showDialog("Error",a.message)}))}},_applyUniqueValueRenderer:function(a,b){for(var c=this.map.graphicsLayerIds,d=[],e=0;e<c.length;e++){var f=this.map.graphicsLayerIds[e];"reviewerPointLayer"!==f&&"reviewerLineLayer"!==f&&"reviewerPolygonLayer"!==f||d.push(this.map.getLayer(f))}for(e=0;e<d.length;e++)this.map.removeLayer(d[e]);
this.reviewerPointLayer=new Q(this.layerUrl+"/0",{id:"reviewerPointLayer",mode:Q.MODE_ONDEMAND,outFields:["*"]});this.reviewerLineLayer=new Q(this.layerUrl+"/1",{id:"reviewerLineLayer",mode:Q.MODE_ONDEMAND,outFields:["*"]});this.reviewerPolygonLayer=new Q(this.layerUrl+"/2",{id:"reviewerPolygonLayer",mode:Q.MODE_ONDEMAND,outFields:["*"]});"undefined"!==a&&3===a.length&&(this.reviewerPointLayer.setRenderer(a[0].renderer),this.reviewerLineLayer.setRenderer(a[1].renderer),this.reviewerPolygonLayer.setRenderer(a[2].renderer));
b&&(this.reviewerPointLayer.setDefinitionExpression(b),this.reviewerLineLayer.setDefinitionExpression(b),this.reviewerPolygonLayer.setDefinitionExpression(b));this.map.addLayer(this.reviewerPointLayer);this.map.addLayer(this.reviewerLineLayer);this.map.addLayer(this.reviewerPolygonLayer)},_updateChart:function(a,c){b.setStyle(this.resultsSection,"display","block");this.tabContainer.selectTab(this.nls.dashboardTab);var e=new d,f=this.sessionNameSelect.get("value");"All"!==f&&e.addAttributeFilter("SESSIONID",
parseInt(f,10));a&&e.addSpatialFilter(a);(1<=e.getCount()?this.dashboardTask.getDashboardResults(this.selectedFieldName.toLowerCase()===this.nls.phaseFieldName.toLowerCase()?this.nls.statusFieldName:this.selectedFieldName,e):this.dashboardTask.getDashboardResults(this.selectedFieldName.toLowerCase()===this.nls.phaseFieldName.toLowerCase()?this.nls.statusFieldName:this.selectedFieldName)).then(h.hitch(this,function(a){this.selectedFieldName.toLowerCase()===this.nls.phaseFieldName.toLowerCase()?this.dashboardResult=
this.getLifecyclePhaseresult(a.dashboardResult):this.dashboardResult=a.dashboardResult;0<this.dashboardResult.fieldValues.length?c?(this.layerDrawingOptions=c,this._createCharts(this.dashboardResult,c,this.selectedFieldName)):this._createCharts(this.dashboardResult,this.layerDrawingOptions,this.selectedFieldName):(this._clearCharts(),this.chartTitle.innerHTML=this.nls.noResults)}),h.hitch(this,function(a){this._showDialog("Error",a.message)}))},_createCharts:function(a,c,d){this._clearCharts(d);var e=
[],f,k,m;m=this._createOtherCategory(a);l.forEach(m.fieldValues,h.hitch(this,function(a){f=m.fieldName.toLowerCase()===this.nls.statusFieldName.toLowerCase()&&a!==this.nls.OtherCategory?g.toLifecycleStatusString(a):m.fieldName.toLowerCase()===this.nls.phaseFieldName.toLowerCase()?g.toLifecyclePhaseString(parseInt(a,10)):a;c.colorMap&&f!==this.nls.OtherCategory&&(k=c.colorMap[a].toHex());f===this.nls.OtherCategory&&(k="#000000");e.push({text:m.getCount(a),y:m.getCount(a),name:a.toString(),tooltip:f+
": "+m.getCount(a),color:k})}));var n={chartField:a.fieldName,description:"",title:d,type:"pieChart"},p=b.create("div",{"class":"chart-div",id:"pieChart",style:{width:"280px",height:"210px;"}},this.chartContainer),v=this._createPieChart(p,n,e);v.media=n;this.charts.push(v);b.setStyle(p,"display","none");n=b.create("div",{"class":"chart-div",style:{width:"320px",height:"210px;"}},this.chartContainer);a={chartField:a.fieldName,description:"",title:d,type:"barsChart"};d=this._creatBarsChart(n,e);d.media=
a;this.charts.push(d);b.setStyle(n,"display","none");a=this.charts.length;for(d=0;d<a;d++)n=b.toDom("\x3cli\x3e\x3ca title\x3d'"+this.charts[d].media.type+"'\x3e\x3c/a\x3e\x3c/li\x3e"),b.place(n,this.pagingUl);this._showChart(this.currentChartIndex)},_showChart:function(a){this.chartTitle.innerHTML="";var c=e(".chart-div",this.chartContainer);c.style({display:"none"});var d=e("li",this.pagingUl);d.removeClass("selected");if(!(0>a)){if(c=c[a])this.currentChartIndex=a,b.setStyle(c,{display:"block"});
this.chartTitle.innerHTML=this.nls.resultsBy+this.selectedFieldAlias;this.chartTitle.title=this.nls.resultsBy+this.selectedFieldAlias;(a=d[a])&&b.addClass(a,"selected")}},_creatBarsChart:function(a,b){a=new z(a);var c=[];l.forEach(b,function(a){c.push(a.name)});a.addPlot("default",{type:t,enableCache:!0,markers:!0,minBarSize:1,maxBarSize:15,label:!1});a.addAxis("x",{fixLower:"minor",fixUpper:"minor",natural:!0,includeZero:!0});a.addAxis("y",{vertical:!0,includeZero:!0,fixLower:"minor",fixUpper:"micro",
natural:!0,labels:l.map(c,function(a,b){return{value:b+1,text:a}}),maxLabelSize:40});var d=new O;d.plotarea.fill="transparent";d.chart.fill="transparent";a.setTheme(d);a.addSeries("default",b,{stroke:{color:"#FFFFFF"},fill:"#1f77b4"});new F(a,"default");a.connectToPlot("default",h.hitch(this,function(a){"onclick"===a.type&&a.run.chart.series[0].data[a.index].name===this.nls.OtherCategory&&(this.chartPageLevel+=1,this._createCharts(this.otherDashboardResult,this.layerDrawingOptions,this.selectedFieldName),
this.showHideBackButton(!0))}));a.render();return a},_createPieChart:function(a,b,c){a=new z(a);a.addPlot("default",{type:N,stroke:{color:"white"},radius:80,min:10,labelStyle:"default",htmlLabels:!0,majorLabels:!0,labelOffset:-15});var d=new O;d.plotarea.fill="transparent";d.chart.fill="transparent";a.setTheme(d);a.addSeries(b.title,c);new F(a,"default");new T(a,"default");a.render();a.connectToPlot("default",h.hitch(this,function(a){"onclick"===a.type&&a.run.chart.series[0].data[a.index].name===
this.nls.OtherCategory&&(this.chartPageLevel+=1,this._createCharts(this.otherDashboardResult,this.layerDrawingOptions,this.selectedFieldName),this.showHideBackButton(!0))}));return a},getLifecyclePhaseresult:function(a){var b=new q;b.fieldName=this.nls.phaseFieldName;var c=-1,e=-1,f=-1;l.forEach(a.fieldValues,h.hitch(this,function(d,h){d=g.getCurrentLifecyclePhase(parseInt(d,10));d===this.nls.reviewed?(-1===c&&(c=b.fieldValues.push(2)-1),b.counts.length>c?b.counts[c]+=a.counts[h]:c=b.counts.push(a.counts[h])-
1):d===this.nls.corrected?(-1===e&&(e=b.fieldValues.push(4)-1),b.counts.length>e?b.counts[e]+=a.counts[h]:e=b.counts.push(a.counts[h])-1):d===this.nls.verified&&(-1===f&&(f=b.fieldValues.push(6)-1),b.counts.length>f?b.counts[f]+=a.counts[h]:f=b.counts.push(a.counts[h])-1)}));var k=this.sessionNameSelect.get("value"),m=new d;"All"!==k&&m.addAttributeFilter("SESSIONID",parseInt(k,10));b.filters=m;return b},_createOtherCategory:function(a){var b={},c=0,d=[],e=[],f=new q;this.otherDashboardResult=new q;
this.otherDashboardResult.fieldName=a.fieldName;if(a.fieldValues.length>this.config.numberChartSections){l.forEach(a.fieldValues,h.hitch(this,function(c,d){b[a.fieldValues[d]]=a.getCount(c)}));var g=[],k;for(k in b)g.push([k,b[k]]);g.sort(function(a,b){return b[1]-a[1]});for(k=0;k<g.length;k++)k<this.config.numberChartSections?(f.fieldValues.push(g[k][0]),f.counts.push(g[k][1])):(c+=g[k][1],d.push(g[k][0]),e.push(g[k][1]),this.otherDashboardResult.fieldValues.push(g[k][0]),this.otherDashboardResult.counts.push(g[k][1]));
f.fieldValues.push(this.nls.OtherCategory);f.counts.push(c);f.fieldName=a.fieldName;return f}return a},_createDrilledChartData:function(){var a=new q,b={},c;l.forEach(this.dashboardResult.fieldValues,h.hitch(this,function(a,c){b[this.dashboardResult.fieldValues[c]]=this.dashboardResult.getCount(a)}));var d=[],e;for(e in b)d.push([e,b[e]]);d.sort(function(a,b){return b[1]-a[1]});0===this.chartPageLevel?a=this.dashboardResult:c=this.chartPageLevel*this.config.numberChartSections;for(c=parseInt(c,10);c<
d.length;c++)a.fieldValues.push(d[c][0]),a.counts.push(d[c][1]);return a},showHideBackButton:function(a){var b=e(".otherBackButton",this.resultsTabNode);a?b.style({display:"block"}):b.style({display:"none"})},_showDialog:function(a,b){a=new r({title:a,style:"width: 200px"});a.set("content",b);a.show()},_clearCharts:function(){this.chartTitle.innerHTML="";e(".chart-div",this.chartContainer).style({display:"none"});e("li",this.pagingUl).removeClass("selected");for(var a=0;a<this.charts.length;a++){var c=
this.charts[a];c&&c.destroy()}this.charts=[];b.empty(this.pagingUl);b.empty(this.chartContainer);b.setStyle(this.resultsSection,"display","block")},_clear:function(){null!==this.toolbar&&this.toolbar.deactivate();this.mapSpatialFilter=null;this.map.graphics.clear()},onClose:function(){for(var a=this.map.graphicsLayerIds,b=[],c=0;c<a.length;c++){var d=this.map.graphicsLayerIds[c];"reviewerPointLayer"!==d&&"reviewerLineLayer"!==d&&"reviewerPolygonLayer"!==d||b.push(this.map.getLayer(d))}for(c=0;c<b.length;c++)this.map.removeLayer(b[c]);
this._clear();this._clearCharts();this.map.removeLayer(this.spatialFilterLayer);this.isClosed=!0}})});